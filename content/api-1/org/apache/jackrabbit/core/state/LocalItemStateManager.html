<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
LocalItemStateManager (Apache Jackrabbit 1.0 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.jackrabbit.core.state.LocalItemStateManager class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="LocalItemStateManager (Apache Jackrabbit 1.0 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LocalItemStateManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateReferenceMap.html" title="class in org.apache.jackrabbit.core.state"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/LRUItemStateCache.html" title="class in org.apache.jackrabbit.core.state"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LocalItemStateManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.jackrabbit.core.state</FONT>
<BR>
Class LocalItemStateManager</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>org.apache.jackrabbit.core.state.LocalItemStateManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A>, <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A>, <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html" title="class in org.apache.jackrabbit.core.state">XAItemStateManager</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>LocalItemStateManager</B><DT>extends <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A>, <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></DL>

<P>
Local <code>ItemStateManager</code> that isolates changes to
 persistent states from other clients.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#factory">factory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Event state collection factory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#sharedStateMgr">sharedStateMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shared item state manager</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#LocalItemStateManager(org.apache.jackrabbit.core.state.SharedItemStateManager, org.apache.jackrabbit.core.observation.EventStateCollectionFactory)">LocalItemStateManager</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A>&nbsp;sharedStateMgr,
                      <A HREF="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</A>&nbsp;factory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>LocalItemStateManager</code> instance.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#cancel()">cancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancel an update operation. This will undo all changes
 made to objects inside this item state manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#createNew(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)">createNew</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id,
          <A HREF="../../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;nodeTypeName,
          <A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;parentId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state"><CODE>NodeState</CODE></A> instance representing new,
 i.e. not yet existing state. Call <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)"><CODE>UpdatableItemStateManager.store(org.apache.jackrabbit.core.state.ItemState)</CODE></A>
 on the returned object to make it persistent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#createNew(org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)">createNew</A></B>(<A HREF="../../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;propName,
          <A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;parentId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state"><CODE>PropertyState</CODE></A> instance representing new,
 i.e. not yet existing state. Call <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)"><CODE>UpdatableItemStateManager.store(org.apache.jackrabbit.core.state.ItemState)</CODE></A>
 on the returned object to make it persistent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#destroy(org.apache.jackrabbit.core.state.ItemState)">destroy</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destroy an item state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#dispose()">dispose</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disposes this <code>UpdatableItemStateManager</code> and frees resources.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#edit()">edit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start an edit operation on items inside this manager. This
 allows calling the operations defined below. At the end of
 this operation, either <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#update()"><CODE>UpdatableItemStateManager.update()</CODE></A> or <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#cancel()"><CODE>UpdatableItemStateManager.cancel()</CODE></A>
 must be invoked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getItemState(org.apache.jackrabbit.core.ItemId)">getItemState</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an item state, given its item id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)">getNodeReferences</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferencesId.html" title="class in org.apache.jackrabbit.core.state">NodeReferencesId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a node references object, given its target id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getNodeState(org.apache.jackrabbit.core.NodeId)">getNodeState</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a node state from the parent shared state manager and
 wraps it into a intermediate object that helps us handle local
 modifications.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getPropertyState(org.apache.jackrabbit.core.PropertyId)">getPropertyState</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/PropertyId.html" title="class in org.apache.jackrabbit.core">PropertyId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a property state from the parent shared state manager and
 wraps it into a intermediate object that helps us handle local
 modifications.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#hasItemState(org.apache.jackrabbit.core.ItemId)">hasItemState</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a flag indicating whether an item state for a given
 item id exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#hasNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)">hasNodeReferences</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferencesId.html" title="class in org.apache.jackrabbit.core.state">NodeReferencesId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a flag indicating whether a node references object
 for a given target id exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#inEditMode()">inEditMode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if this manager is in edit mode i.e.
 if an edit operation has been started by invoking <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#edit()"><CODE>UpdatableItemStateManager.edit()</CODE></A>,
 otherwise returns <code>false</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)">store</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store an item state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#update()">update</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End an update operation. This will save all items
 added to this update operation in a single step.
 If this operation fails, no item will have been saved.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#update(org.apache.jackrabbit.core.state.ChangeLog)">update</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</A>&nbsp;changeLog)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End an update operation.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="sharedStateMgr"><!-- --></A><H3>
sharedStateMgr</H3>
<PRE>
protected final <A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A> <B>sharedStateMgr</B></PRE>
<DL>
<DD>Shared item state manager
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="factory"><!-- --></A><H3>
factory</H3>
<PRE>
protected final <A HREF="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</A> <B>factory</B></PRE>
<DL>
<DD>Event state collection factory.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="LocalItemStateManager(org.apache.jackrabbit.core.state.SharedItemStateManager, org.apache.jackrabbit.core.observation.EventStateCollectionFactory)"><!-- --></A><H3>
LocalItemStateManager</H3>
<PRE>
public <B>LocalItemStateManager</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A>&nbsp;sharedStateMgr,
                             <A HREF="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</A>&nbsp;factory)</PRE>
<DL>
<DD>Creates a new <code>LocalItemStateManager</code> instance.
<P>
<DT><B>Parameters:</B><DD><CODE>sharedStateMgr</CODE> - shared state manager<DD><CODE>factory</CODE> - event state collection factory</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getNodeState(org.apache.jackrabbit.core.NodeId)"><!-- --></A><H3>
getNodeState</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A> <B>getNodeState</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)
                          throws <A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A>,
                                 <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Retrieve a node state from the parent shared state manager and
 wraps it into a intermediate object that helps us handle local
 modifications.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - node id
<DT><B>Returns:</B><DD>node state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A></CODE>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPropertyState(org.apache.jackrabbit.core.PropertyId)"><!-- --></A><H3>
getPropertyState</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</A> <B>getPropertyState</B>(<A HREF="../../../../../org/apache/jackrabbit/core/PropertyId.html" title="class in org.apache.jackrabbit.core">PropertyId</A>&nbsp;id)
                                  throws <A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A>,
                                         <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Retrieve a property state from the parent shared state manager and
 wraps it into a intermediate object that helps us handle local
 modifications.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - property id
<DT><B>Returns:</B><DD>property state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A></CODE>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getItemState(org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
getItemState</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A> <B>getItemState</B>(<A HREF="../../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)
                       throws <A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A>,
                              <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Return an item state, given its item id.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#getItemState(org.apache.jackrabbit.core.ItemId)">getItemState</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - item id
<DT><B>Returns:</B><DD>item state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A></CODE> - if the item does not exist
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="hasItemState(org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
hasItemState</H3>
<PRE>
public boolean <B>hasItemState</B>(<A HREF="../../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</PRE>
<DL>
<DD>Return a flag indicating whether an item state for a given
 item id exists.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#hasItemState(org.apache.jackrabbit.core.ItemId)">hasItemState</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - item id
<DT><B>Returns:</B><DD><code>true</code> if an item state exists,
         otherwise <code>false</code></DL>
</DD>
</DL>
<HR>

<A NAME="getNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)"><!-- --></A><H3>
getNodeReferences</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</A> <B>getNodeReferences</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferencesId.html" title="class in org.apache.jackrabbit.core.state">NodeReferencesId</A>&nbsp;id)
                                 throws <A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A>,
                                        <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Return a node references object, given its target id
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#getNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)">getNodeReferences</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - target id
<DT><B>Returns:</B><DD>node references object
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE> - if an error occurs
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</A></CODE> - if the item does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="hasNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)"><!-- --></A><H3>
hasNodeReferences</H3>
<PRE>
public boolean <B>hasNodeReferences</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/NodeReferencesId.html" title="class in org.apache.jackrabbit.core.state">NodeReferencesId</A>&nbsp;id)</PRE>
<DL>
<DD>Return a flag indicating whether a node references object
 for a given target id exists.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#hasNodeReferences(org.apache.jackrabbit.core.state.NodeReferencesId)">hasNodeReferences</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - target id
<DT><B>Returns:</B><DD><code>true</code> if a node reference object exists for the given
         id, otherwise <code>false</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="edit()"><!-- --></A><H3>
edit</H3>
<PRE>
public void <B>edit</B>()
          throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Start an edit operation on items inside this manager. This
 allows calling the operations defined below. At the end of
 this operation, either <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#update()"><CODE>UpdatableItemStateManager.update()</CODE></A> or <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#cancel()"><CODE>UpdatableItemStateManager.cancel()</CODE></A>
 must be invoked.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#edit()">edit</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is already in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="inEditMode()"><!-- --></A><H3>
inEditMode</H3>
<PRE>
public boolean <B>inEditMode</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if this manager is in edit mode i.e.
 if an edit operation has been started by invoking <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#edit()"><CODE>UpdatableItemStateManager.edit()</CODE></A>,
 otherwise returns <code>false</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#inEditMode()">inEditMode</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if this manager is in edit mode, otherwise
         <code>false</code></DL>
</DD>
</DL>
<HR>

<A NAME="createNew(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)"><!-- --></A><H3>
createNew</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A> <B>createNew</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id,
                           <A HREF="../../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;nodeTypeName,
                           <A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;parentId)
                    throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Creates a <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state"><CODE>NodeState</CODE></A> instance representing new,
 i.e. not yet existing state. Call <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)"><CODE>UpdatableItemStateManager.store(org.apache.jackrabbit.core.state.ItemState)</CODE></A>
 on the returned object to make it persistent.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#createNew(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)">createNew</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the id of the node<DD><CODE>nodeTypeName</CODE> - qualified node type name<DD><CODE>parentId</CODE> - parent node's id
<DT><B>Returns:</B><DD>a node state
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="createNew(org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)"><!-- --></A><H3>
createNew</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</A> <B>createNew</B>(<A HREF="../../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;propName,
                               <A HREF="../../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;parentId)
                        throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Creates a <A HREF="../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state"><CODE>PropertyState</CODE></A> instance representing new,
 i.e. not yet existing state. Call <A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)"><CODE>UpdatableItemStateManager.store(org.apache.jackrabbit.core.state.ItemState)</CODE></A>
 on the returned object to make it persistent.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#createNew(org.apache.jackrabbit.name.QName, org.apache.jackrabbit.core.NodeId)">createNew</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>propName</CODE> - qualified property name<DD><CODE>parentId</CODE> - parent node Id
<DT><B>Returns:</B><DD>a property state
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="store(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
store</H3>
<PRE>
public void <B>store</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)
           throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Store an item state.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)">store</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - item state that should be stored
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="destroy(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
destroy</H3>
<PRE>
public void <B>destroy</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)
             throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Destroy an item state.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#destroy(org.apache.jackrabbit.core.state.ItemState)">destroy</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - item state that should be destroyed
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="cancel()"><!-- --></A><H3>
cancel</H3>
<PRE>
public void <B>cancel</B>()
            throws <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>Cancel an update operation. This will undo all changes
 made to objects inside this item state manager.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#cancel()">cancel</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.</DL>
</DD>
</DL>
<HR>

<A NAME="update()"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>()
            throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ReferentialIntegrityException.html" title="class or interface in javax.jcr">ReferentialIntegrityException</A>,
                   <A HREF="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</A>,
                   <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A>,
                   <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></PRE>
<DL>
<DD>End an update operation. This will save all items
 added to this update operation in a single step.
 If this operation fails, no item will have been saved.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#update()">update</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</A></CODE> - if at least one of the affected items
                                       has become stale in the meantime
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the manager is not in edit mode.
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ReferentialIntegrityException.html" title="class or interface in javax.jcr">ReferentialIntegrityException</A></CODE> - if a new or modified REFERENCE
                                       property refers to a non-existent
                                       target or if a removed node is still
                                       being referenced
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE> - if the operation failed for another reason</DL>
</DD>
</DL>
<HR>

<A NAME="update(org.apache.jackrabbit.core.state.ChangeLog)"><!-- --></A><H3>
update</H3>
<PRE>
protected void <B>update</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</A>&nbsp;changeLog)
               throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ReferentialIntegrityException.html" title="class or interface in javax.jcr">ReferentialIntegrityException</A>,
                      <A HREF="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</A>,
                      <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>End an update operation. Fetch the states and references from
 the parent (shared) item manager, reconnect them to the items
 collected in our (local) change log and overwrite the shared
 items with our copies.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changeLog</CODE> - change log containing local states and references
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ReferentialIntegrityException.html" title="class or interface in javax.jcr">ReferentialIntegrityException</A></CODE> - if a new or modified REFERENCE
                                       property refers to a non-existent
                                       target or if a removed node is still
                                       being referenced
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</A></CODE> - if at least one of the affected item
                                       states has become stale in the meantime
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="dispose()"><!-- --></A><H3>
dispose</H3>
<PRE>
public void <B>dispose</B>()</PRE>
<DL>
<DD>Disposes this <code>UpdatableItemStateManager</code> and frees resources.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html#dispose()">dispose</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stateCreated(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateCreated</H3>
<PRE>
public void <B>stateCreated</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>created</CODE> - the <code>ItemState</code> that has been 'created'</DL>
</DD>
</DL>
<HR>

<A NAME="stateModified(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateModified</H3>
<PRE>
public void <B>stateModified</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>modified</CODE> - the <code>ItemState</code> that has been 'modified'</DL>
</DD>
</DL>
<HR>

<A NAME="stateDestroyed(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDestroyed</H3>
<PRE>
public void <B>stateDestroyed</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>destroyed</CODE> - the <code>ItemState</code> that has been 'destroyed'</DL>
</DD>
</DL>
<HR>

<A NAME="stateDiscarded(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDiscarded</H3>
<PRE>
public void <B>stateDiscarded</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>discarded</CODE> - the <code>ItemState</code> that has been discarded<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html#discard()"><CODE>ItemState.discard()</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LocalItemStateManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateReferenceMap.html" title="class in org.apache.jackrabbit.core.state"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/LRUItemStateCache.html" title="class in org.apache.jackrabbit.core.state"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LocalItemStateManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2004-2006 The Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
