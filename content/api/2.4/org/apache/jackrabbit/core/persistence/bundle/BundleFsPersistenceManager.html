<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Tue Feb 21 16:02:02 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>BundleFsPersistenceManager (Apache Jackrabbit 2.4.0 API)</title>
<meta name="date" content="2012-02-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BundleFsPersistenceManager (Apache Jackrabbit 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BundleFsPersistenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.CloseableBLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html" target="_top">Frames</a></li>
<li><a href="BundleFsPersistenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.core.persistence.bundle</div>
<h2 title="Class BundleFsPersistenceManager" class="title">Class BundleFsPersistenceManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/CachingPersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">CachingPersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyChecker.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyChecker</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/IterablePersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">IterablePersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">BundleFsPersistenceManager</span>
extends <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></pre>
<div class="block">This is a generic persistence manager that stores the <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util"><code>NodePropBundle</code></a>s
 in a filesystem.
 <p/>
 Configuration:<br>
 <ul>
 <li>&lt;param name="<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setBlobFSBlockSize(java.lang.String)"><code>blobFSBlockSize</code></a>" value="0"/>
 <li>&lt;param name="<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setMinBlobSize(java.lang.String)"><code>minBlobSize</code></a>" value="4096"/>
 <li>&lt;param name="<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setErrorHandling(java.lang.String)"><code>errorHandling</code></a>" value=""/>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.CloseableBLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.bundle">BundleFsPersistenceManager.CloseableBLOBStore</a></strong></code>
<div class="block">Helper interface for closeable stores</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BundleBinding.html" title="class in org.apache.jackrabbit.core.persistence.util">BundleBinding</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#binding">binding</a></strong></code>
<div class="block">the bundle binding</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.CloseableBLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.bundle">BundleFsPersistenceManager.CloseableBLOBStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#blobStore">blobStore</a></strong></code>
<div class="block">file system where BLOB data is stored</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/ErrorHandling.html" title="class in org.apache.jackrabbit.core.persistence.util">ErrorHandling</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#errorHandling">errorHandling</a></strong></code>
<div class="block">flag for error handling</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#initialized">initialized</a></strong></code>
<div class="block">flag indicating if this manager was initialized</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.jackrabbit.core.persistence.bundle.<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#context">context</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#NODEFILENAME">NODEFILENAME</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#NODEREFSFILENAME">NODEREFSFILENAME</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#RES_NAME_INDEX">RES_NAME_INDEX</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#RES_NS_INDEX">RES_NS_INDEX</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.jackrabbit.core.cache.CacheAccessListener">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.jackrabbit.core.cache.<a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#ACCESS_INTERVAL">ACCESS_INTERVAL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#BundleFsPersistenceManager()">BundleFsPersistenceManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#buildNodeFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                 <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates the file path for the given node id that is
 suitable for storing node states in a filesystem.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#buildNodeReferencesFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeReferencesFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                           <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates the file path for the given references id that is
 suitable for storing reference states in a filesystem.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#close()">close</a></strong>()</code>
<div class="block">Closes the persistence manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#destroy(org.apache.jackrabbit.core.state.NodeReferences)">destroy</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)</code>
<div class="block">Deletes the node references from the underlying system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#destroyBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">destroyBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)</code>
<div class="block">Deletes the bundle from the underlying system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#existsReferencesTo(org.apache.jackrabbit.core.id.NodeId)">existsReferencesTo</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;targetId)</code>
<div class="block">Checks whether references of the identified target node exist.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getAllNodeIds(org.apache.jackrabbit.core.id.NodeId, int)">getAllNodeIds</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;bigger,
             int&nbsp;maxCount)</code>
<div class="block">Get all node ids.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getBlobFSBlockSize()">getBlobFSBlockSize</a></strong>()</code>
<div class="block">Returns the configured block size of the blob cqfs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.util">BLOBStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getBlobStore()">getBlobStore</a></strong>()</code>
<div class="block">Returns the BLOB store used by this persistence manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getErrorHandling()">getErrorHandling</a></strong>()</code>
<div class="block">Returns the error handling configuration of this manager</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getIdFromFileName(java.lang.String)">getIdFromFileName</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getMinBlobSize()">getMinBlobSize</a></strong>()</code>
<div class="block">Returns the mininum blob size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#init(org.apache.jackrabbit.core.persistence.PMContext)">init</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a>&nbsp;context)</code>
<div class="block">Initializes the persistence manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#loadBundle(org.apache.jackrabbit.core.id.NodeId)">loadBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Loads a bundle from the underlying system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#loadReferencesTo(org.apache.jackrabbit.core.id.NodeId)">loadReferencesTo</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;targetId)</code>
<div class="block">Load the persisted references to the node with the given identifier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#logException(java.lang.String, java.sql.SQLException)">logException</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
            <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>&nbsp;se)</code>
<div class="block">logs an sql exception</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setBlobFSBlockSize(java.lang.String)">setBlobFSBlockSize</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;size)</code>
<div class="block">Sets the block size of the blob fs and controls how blobs are handled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setErrorHandling(java.lang.String)">setErrorHandling</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;errorHandling)</code>
<div class="block">Sets the error handling behaviour of this manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#setMinBlobSize(java.lang.String)">setMinBlobSize</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;minBlobSize)</code>
<div class="block">Sets the minimum blob size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#store(org.apache.jackrabbit.core.state.NodeReferences)">store</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)</code>
<div class="block">Stores a node references to the underlying system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#storeBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">storeBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)</code>
<div class="block">Stores a bundle to the underlying system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#useLocalFsBlobStore()">useLocalFsBlobStore</a></strong>()</code>
<div class="block">Returns <code>true</code> if the blobs are stored in the local fs.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.jackrabbit.core.persistence.bundle.<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildBlobFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId, int)">buildBlobFilePath</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeFolderPath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeFolderPath</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildPropFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId)">buildPropFilePath</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#cacheAccessed(long)">cacheAccessed</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#check(java.lang.String[], boolean, boolean, java.lang.String)">check</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#checkConsistency(java.lang.String[], boolean, boolean)">checkConsistency</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#createNew(org.apache.jackrabbit.core.id.NodeId)">createNew</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#createNew(org.apache.jackrabbit.core.id.PropertyId)">createNew</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#disposeCache(org.apache.jackrabbit.core.cache.Cache)">disposeCache</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#evictBundle(org.apache.jackrabbit.core.id.NodeId)">evictBundle</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#exists(org.apache.jackrabbit.core.id.NodeId)">exists</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#exists(org.apache.jackrabbit.core.id.PropertyId)">exists</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getBundleCacheSize()">getBundleCacheSize</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getNameIndex()">getNameIndex</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getNsIndex()">getNsIndex</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#load(org.apache.jackrabbit.core.id.NodeId)">load</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#load(org.apache.jackrabbit.core.id.PropertyId)">load</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#onExternalUpdate(org.apache.jackrabbit.core.state.ChangeLog)">onExternalUpdate</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#setBundleCacheSize(java.lang.String)">setBundleCacheSize</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#store(org.apache.jackrabbit.core.state.ChangeLog)">store</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="initialized">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialized</h4>
<pre>protected&nbsp;boolean initialized</pre>
<div class="block">flag indicating if this manager was initialized</div>
</li>
</ul>
<a name="blobStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blobStore</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.CloseableBLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.bundle">BundleFsPersistenceManager.CloseableBLOBStore</a> blobStore</pre>
<div class="block">file system where BLOB data is stored</div>
</li>
</ul>
<a name="errorHandling">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>errorHandling</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/ErrorHandling.html" title="class in org.apache.jackrabbit.core.persistence.util">ErrorHandling</a> errorHandling</pre>
<div class="block">flag for error handling</div>
</li>
</ul>
<a name="binding">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>binding</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BundleBinding.html" title="class in org.apache.jackrabbit.core.persistence.util">BundleBinding</a> binding</pre>
<div class="block">the bundle binding</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BundleFsPersistenceManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BundleFsPersistenceManager</h4>
<pre>public&nbsp;BundleFsPersistenceManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBlobFSBlockSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlobFSBlockSize</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getBlobFSBlockSize()</pre>
<div class="block">Returns the configured block size of the blob cqfs</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the block size.</dd></dl>
</li>
</ul>
<a name="setBlobFSBlockSize(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBlobFSBlockSize</h4>
<pre>public&nbsp;void&nbsp;setBlobFSBlockSize(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;size)</pre>
<div class="block">Sets the block size of the blob fs and controls how blobs are handled.
 <br>
 If the size is 0, the blobs are stored within the workspace's physical filesystem.
 <br>
 Otherwise, the blobs are stored within the item filesystem.
 <br>
 Please note that not all binary properties are considered as blobs. They
 are only stored in the respective blob store, if their size exceeds
 <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html#getMinBlobSize()"><code>getMinBlobSize()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - the block size</dd></dl>
</li>
</ul>
<a name="useLocalFsBlobStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useLocalFsBlobStore</h4>
<pre>public&nbsp;boolean&nbsp;useLocalFsBlobStore()</pre>
<div class="block">Returns <code>true</code> if the blobs are stored in the local fs.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the blobs are stored in the local fs.</dd></dl>
</li>
</ul>
<a name="getMinBlobSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinBlobSize</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getMinBlobSize()</pre>
<div class="block">Returns the mininum blob size.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the mininum blob size.</dd></dl>
</li>
</ul>
<a name="setMinBlobSize(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMinBlobSize</h4>
<pre>public&nbsp;void&nbsp;setMinBlobSize(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;minBlobSize)</pre>
<div class="block">Sets the minimum blob size. This size defines the threshold of which
 size a property is included in the bundle or is stored in the blob store.
 Very high values decrease the performance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>minBlobSize</code> - </dd></dl>
</li>
</ul>
<a name="setErrorHandling(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setErrorHandling</h4>
<pre>public&nbsp;void&nbsp;setErrorHandling(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;errorHandling)</pre>
<div class="block">Sets the error handling behaviour of this manager. See <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/ErrorHandling.html" title="class in org.apache.jackrabbit.core.persistence.util"><code>ErrorHandling</code></a>
 for details about the flags.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>errorHandling</code> - </dd></dl>
</li>
</ul>
<a name="getErrorHandling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorHandling</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getErrorHandling()</pre>
<div class="block">Returns the error handling configuration of this manager</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the error handling configuration of this manager</dd></dl>
</li>
</ul>
<a name="init(org.apache.jackrabbit.core.persistence.PMContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a>&nbsp;context)
          throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Initializes the persistence manager. The persistence manager is
 permanently bound to the given context, and any required external
 resources are acquired.
 <p>
 An appropriate exception is thrown if the persistence manager
 initialization fails for whatever reason. In this case the
 state of the persistence manager is undefined and the instance
 should be discarded.

 Initializes the internal structures of this abstract persistence manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#init(org.apache.jackrabbit.core.persistence.PMContext)">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#init(org.apache.jackrabbit.core.persistence.PMContext)">init</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - persistence manager context</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the persistence manager initialization failed</dd></dl>
</li>
</ul>
<a name="getBlobStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlobStore</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.util">BLOBStore</a>&nbsp;getBlobStore()</pre>
<div class="block">Returns the BLOB store used by this persistence manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getBlobStore()">getBlobStore</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>BLOB store</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Closes the persistence manager. The consistency of the persistent
 storage is guaranteed and all acquired resources are released.
 It is an error to invoke any methods on a closed persistence manager,
 and implementations are free to enforce this constraint by throwing
 IllegalStateExceptions in such cases.
 <p>
 An appropriate exception is thrown if the persistence manager
 could not be closed properly. In this case the state of the
 persistence manager is undefined and the instance should be
 discarded.

  Closes the persistence manager, release acquired resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the persistence manager failed to close properly</dd></dl>
</li>
</ul>
<a name="loadBundle(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadBundle</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;loadBundle(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)
                             throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Loads a bundle from the underlying system.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#loadBundle(org.apache.jackrabbit.core.id.NodeId)">loadBundle</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - the node id of the bundle</dd>
<dt><span class="strong">Returns:</span></dt><dd>the loaded bundle or <code>null</code> if the bundle does not
         exist.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while loading occurs.</dd></dl>
</li>
</ul>
<a name="buildNodeFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildNodeFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildNodeFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                             <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates the file path for the given node id that is
 suitable for storing node states in a filesystem.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeFilePath</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the node</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="buildNodeReferencesFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildNodeReferencesFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildNodeReferencesFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                                       <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates the file path for the given references id that is
 suitable for storing reference states in a filesystem.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeReferencesFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeReferencesFilePath</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the node</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="storeBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeBundle</h4>
<pre>protected&nbsp;void&nbsp;storeBundle(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)
                    throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Stores a bundle to the underlying system.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#storeBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">storeBundle</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>bundle</code> - the bundle to store</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while storing occurs.</dd></dl>
</li>
</ul>
<a name="destroyBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyBundle</h4>
<pre>protected&nbsp;void&nbsp;destroyBundle(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)
                      throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Deletes the bundle from the underlying system.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#destroyBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">destroyBundle</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>bundle</code> - the bundle to destroy</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while destroying occurs.</dd></dl>
</li>
</ul>
<a name="loadReferencesTo(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadReferencesTo</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;loadReferencesTo(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;targetId)
                                throws <a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a>,
                                       <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Load the persisted references to the node with the given identifier.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetId</code> - reference target node id</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a></code> - if the target node does not exist</dd>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if another error occurs</dd></dl>
</li>
</ul>
<a name="store(org.apache.jackrabbit.core.state.NodeReferences)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>public&nbsp;void&nbsp;store(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)
           throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Stores a node references to the underlying system.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#store(org.apache.jackrabbit.core.state.NodeReferences)">store</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>refs</code> - the node references to store.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while storing occurs.</dd></dl>
</li>
</ul>
<a name="destroy(org.apache.jackrabbit.core.state.NodeReferences)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)
             throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Deletes the node references from the underlying system.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#destroy(org.apache.jackrabbit.core.state.NodeReferences)">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">AbstractBundlePersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>refs</code> - the node references to destroy.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while destroying occurs.</dd></dl>
</li>
</ul>
<a name="existsReferencesTo(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsReferencesTo</h4>
<pre>public&nbsp;boolean&nbsp;existsReferencesTo(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;targetId)
                           throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Checks whether references of the identified target node exist.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetId</code> - target node id</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the references exist,
         <code>false</code> otherwise</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - on persistence manager errors</dd></dl>
</li>
</ul>
<a name="logException(java.lang.String, java.sql.SQLException)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logException</h4>
<pre>protected&nbsp;void&nbsp;logException(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message,
                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>&nbsp;se)</pre>
<div class="block">logs an sql exception</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - </dd><dd><code>se</code> - </dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllNodeIds(org.apache.jackrabbit.core.id.NodeId, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllNodeIds</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&gt;&nbsp;getAllNodeIds(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;bigger,
                         int&nbsp;maxCount)
                           throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Get all node ids.
 A typical application will call this method multiple times, where 'after'
 is the last row read. The maxCount parameter defines the maximum number of
 node ids returned, 0 meaning no limit. The order of the node ids is specific for the
 given persistent manager. Items that are added concurrently may not be included.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bigger</code> - the lower limit, or null for no limit.</dd><dd><code>maxCount</code> - the maximum number of node ids to return, or 0 for no limit.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of all bundles.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while loading occurs.</dd></dl>
</li>
</ul>
<a name="getIdFromFileName(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getIdFromFileName</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;getIdFromFileName(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BundleFsPersistenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.CloseableBLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html" target="_top">Frames</a></li>
<li><a href="BundleFsPersistenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
