<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Tue Feb 21 16:02:02 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>XAItemStateManager (Apache Jackrabbit 2.4.0 API)</title>
<meta name="date" content="2012-02-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XAItemStateManager (Apache Jackrabbit 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XAItemStateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/jackrabbit/core/state/XAItemStateManager.html" target="_top">Frames</a></li>
<li><a href="XAItemStateManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.jackrabbit.core.state.LocalItemStateManager">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.core.state</div>
<h2 title="Class XAItemStateManager" class="title">Class XAItemStateManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">org.apache.jackrabbit.core.state.LocalItemStateManager</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.core.state.XAItemStateManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a>, <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</a>, <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</a>, <a href="../../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</a>, <a href="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">UpdatableItemStateManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">XAItemStateManager</span>
extends <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a>
implements <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></pre>
<div class="block">Extension to <code>LocalItemStateManager</code> that remembers changes on
 multiple save() requests and commits them only when an associated transaction
 is itself committed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.jackrabbit.core.state.LocalItemStateManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.jackrabbit.core.state.<a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></h3>
<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#factory">factory</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#sharedStateMgr">sharedStateMgr</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Invoked after one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method has been called.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Associate this resource with a transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Invoked before one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method is called.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Commit transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html" title="class in org.apache.jackrabbit.core.state">XAItemStateManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#createInstance(org.apache.jackrabbit.core.state.SharedItemStateManager, org.apache.jackrabbit.core.observation.EventStateCollectionFactory, java.lang.String, org.apache.jackrabbit.core.state.ItemStateCacheFactory)">createInstance</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</a>&nbsp;sharedStateMgr,
              <a href="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</a>&nbsp;factory,
              <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attributeName,
              <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</a>&nbsp;cacheFactory)</code>
<div class="block">Creates a new <code>XAItemStateManager</code> instance and registers it as an <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state"><code>ItemStateListener</code></a>
 with the given <a href="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state"><code>SharedItemStateManager</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#getChangeLog()">getChangeLog</a></strong>()</code>
<div class="block">Returns the current change log.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#getChanges()">getChanges</a></strong>()</code>
<div class="block">Returns the change log that contains the current changes in this local
 item state manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#getItemState(org.apache.jackrabbit.core.id.ItemId)">getItemState</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/id/ItemId.html" title="interface in org.apache.jackrabbit.core.id">ItemId</a>&nbsp;id)</code>
<div class="block">Return an item state, given its item id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#getNodeReferences(org.apache.jackrabbit.core.id.NodeId)">getNodeReferences</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Return a node references object, given its target id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#hasItemState(org.apache.jackrabbit.core.id.ItemId)">hasItemState</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/id/ItemId.html" title="interface in org.apache.jackrabbit.core.id">ItemId</a>&nbsp;id)</code>
<div class="block">Return a flag indicating whether an item state for a given
 item id exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#hasNodeReferences(org.apache.jackrabbit.core.id.NodeId)">hasNodeReferences</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Return a flag indicating whether a node references object
 for a given target id exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Prepare transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Rollback transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#setVirtualProvider(org.apache.jackrabbit.core.virtual.VirtualItemStateProvider)">setVirtualProvider</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/virtual/VirtualItemStateProvider.html" title="interface in org.apache.jackrabbit.core.virtual">VirtualItemStateProvider</a>&nbsp;virtualProvider)</code>
<div class="block">Set optional virtual item state provider.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</a>&nbsp;modified)</code>
<div class="block">Called when an <code>ItemState</code> has successfully
 been modified (i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html#update(org.apache.jackrabbit.core.state.ChangeLog)">update</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changeLog)</code>
<div class="block">End an update operation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.jackrabbit.core.state.LocalItemStateManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.jackrabbit.core.state.<a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></h3>
<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#addListener(org.apache.jackrabbit.core.state.ItemStateListener)">addListener</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#cancel()">cancel</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#createInstance(org.apache.jackrabbit.core.state.SharedItemStateManager, org.apache.jackrabbit.core.observation.EventStateCollectionFactory, org.apache.jackrabbit.core.state.ItemStateCacheFactory)">createInstance</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#createNew(org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.core.id.NodeId)">createNew</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#createNew(org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.core.id.NodeId)">createNew</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#destroy(org.apache.jackrabbit.core.state.ItemState)">destroy</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#dispose()">dispose</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#edit()">edit</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getNodeIdFactory()">getNodeIdFactory</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getNodeState(org.apache.jackrabbit.core.id.NodeId)">getNodeState</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getOrCreateLocalState(org.apache.jackrabbit.core.state.NodeState)">getOrCreateLocalState</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getPropertyState(org.apache.jackrabbit.core.id.PropertyId)">getPropertyState</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#inEditMode()">inEditMode</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#nodeAdded(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.spi.Name, int, org.apache.jackrabbit.core.id.NodeId)">nodeAdded</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#nodeModified(org.apache.jackrabbit.core.state.NodeState)">nodeModified</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#nodeRemoved(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.spi.Name, int, org.apache.jackrabbit.core.id.NodeId)">nodeRemoved</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#nodesReplaced(org.apache.jackrabbit.core.state.NodeState)">nodesReplaced</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#removeListener(org.apache.jackrabbit.core.state.ItemStateListener)">removeListener</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#store(org.apache.jackrabbit.core.state.ItemState)">store</a>, <a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#update()">update</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createInstance(org.apache.jackrabbit.core.state.SharedItemStateManager, org.apache.jackrabbit.core.observation.EventStateCollectionFactory, java.lang.String, org.apache.jackrabbit.core.state.ItemStateCacheFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstance</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/jackrabbit/core/state/XAItemStateManager.html" title="class in org.apache.jackrabbit.core.state">XAItemStateManager</a>&nbsp;createInstance(<a href="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</a>&nbsp;sharedStateMgr,
                                <a href="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation">EventStateCollectionFactory</a>&nbsp;factory,
                                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attributeName,
                                <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</a>&nbsp;cacheFactory)</pre>
<div class="block">Creates a new <code>XAItemStateManager</code> instance and registers it as an <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state"><code>ItemStateListener</code></a>
 with the given <a href="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state"><code>SharedItemStateManager</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sharedStateMgr</code> - the <a href="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state"><code>SharedItemStateManager</code></a></dd><dd><code>factory</code> - the <a href="../../../../../org/apache/jackrabbit/core/observation/EventStateCollectionFactory.html" title="interface in org.apache.jackrabbit.core.observation"><code>EventStateCollectionFactory</code></a></dd><dd><code>attributeName</code> - the attribute name, if <code>null</code> then a default name is used</dd><dd><code>cacheFactory</code> - the <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state"><code>ItemStateCacheFactory</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>a new <code>XAItemStateManager</code> instance</dd></dl>
</li>
</ul>
<a name="setVirtualProvider(org.apache.jackrabbit.core.virtual.VirtualItemStateProvider)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVirtualProvider</h4>
<pre>public&nbsp;void&nbsp;setVirtualProvider(<a href="../../../../../org/apache/jackrabbit/core/virtual/VirtualItemStateProvider.html" title="interface in org.apache.jackrabbit.core.virtual">VirtualItemStateProvider</a>&nbsp;virtualProvider)</pre>
<div class="block">Set optional virtual item state provider.</div>
</li>
</ul>
<a name="associate(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>associate</h4>
<pre>public&nbsp;void&nbsp;associate(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Associate this resource with a transaction. All further operations on
 the object should be interpreted as part of this transaction and changes
 recorded in some attribute of the transaction context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context, if <code>null</code> disassociate</dd></dl>
</li>
</ul>
<a name="beforeOperation(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeOperation</h4>
<pre>public&nbsp;void&nbsp;beforeOperation(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Invoked before one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method is called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd></dl>
</li>
</ul>
<a name="prepare(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre>public&nbsp;void&nbsp;prepare(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)
             throws <a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></pre>
<div class="block">Prepare transaction. The transaction is identified by a transaction
 context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="commit(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)
            throws <a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></pre>
<div class="block">Commit transaction. The transaction is identified by a transaction
 context. If the method throws, other resources get their changes
 rolled back.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="rollback(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Rollback transaction. The transaction is identified by a transaction
 context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context.</dd></dl>
</li>
</ul>
<a name="afterOperation(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterOperation</h4>
<pre>public&nbsp;void&nbsp;afterOperation(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Invoked after one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method has been called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd></dl>
</li>
</ul>
<a name="getChangeLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangeLog</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;getChangeLog()</pre>
<div class="block">Returns the current change log. First tries thread-local change log,
 then instance-local change log. Returns <code>null</code> if no
 change log was found.</div>
</li>
</ul>
<a name="getChanges()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChanges</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;getChanges()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getChanges()">LocalItemStateManager</a></code></strong></div>
<div class="block">Returns the change log that contains the current changes in this local
 item state manager.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getChanges()">getChanges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the change log with the current changes.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - always.</dd></dl>
</li>
</ul>
<a name="getItemState(org.apache.jackrabbit.core.id.ItemId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getItemState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</a>&nbsp;getItemState(<a href="../../../../../org/apache/jackrabbit/core/id/ItemId.html" title="interface in org.apache.jackrabbit.core.id">ItemId</a>&nbsp;id)
                       throws <a href="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a>,
                              <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Return an item state, given its item id.
 <p/>
 If this state manager is committing changes, this method first checks
 the commitLog ThreadLocal. Else if associated to a transaction check
 the transactional change log. Fallback is always the call to the base
 class.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#getItemState(org.apache.jackrabbit.core.id.ItemId)">getItemState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getItemState(org.apache.jackrabbit.core.id.ItemId)">getItemState</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - item id</dd>
<dt><span class="strong">Returns:</span></dt><dd>item state</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a></code> - if the item does not exist</dd>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="hasItemState(org.apache.jackrabbit.core.id.ItemId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasItemState</h4>
<pre>public&nbsp;boolean&nbsp;hasItemState(<a href="../../../../../org/apache/jackrabbit/core/id/ItemId.html" title="interface in org.apache.jackrabbit.core.id">ItemId</a>&nbsp;id)</pre>
<div class="block">Return a flag indicating whether an item state for a given
 item id exists.
 <p/>
 If this state manager is committing changes, this method first checks
 the commitLog ThreadLocal. Else if associated to a transaction check
 the transactional change log. Fallback is always the call to the base
 class.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#hasItemState(org.apache.jackrabbit.core.id.ItemId)">hasItemState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#hasItemState(org.apache.jackrabbit.core.id.ItemId)">hasItemState</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - item id</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if an item state exists,
         otherwise <code>false</code></dd></dl>
</li>
</ul>
<a name="getNodeReferences(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeReferences</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;getNodeReferences(<a href="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)
                                 throws <a href="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a>,
                                        <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Return a node references object, given its target id
 <p/>
 If this state manager is committing changes, this method first
 checks the commitLog ThreadLocal. Else if associated to a transaction
 check the transactional change log. Fallback is always the call to
 the base class.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#getNodeReferences(org.apache.jackrabbit.core.id.NodeId)">getNodeReferences</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#getNodeReferences(org.apache.jackrabbit.core.id.NodeId)">getNodeReferences</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - target id</dd>
<dt><span class="strong">Returns:</span></dt><dd>node references object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a></code> - if the item does not exist</dd>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="hasNodeReferences(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNodeReferences</h4>
<pre>public&nbsp;boolean&nbsp;hasNodeReferences(<a href="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Return a flag indicating whether a node references object
 for a given target id exists.
 <p/>
 If this state manager is committing changes, this method first
 checks the commitLog ThreadLocal. Else if associated to a transaction
 check the transactional change log. Fallback is always the call to
 the base class.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html#hasNodeReferences(org.apache.jackrabbit.core.id.NodeId)">hasNodeReferences</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#hasNodeReferences(org.apache.jackrabbit.core.id.NodeId)">hasNodeReferences</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - target id</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if a node reference object exists for the given
         id, otherwise <code>false</code>.</dd></dl>
</li>
</ul>
<a name="update(org.apache.jackrabbit.core.state.ChangeLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>protected&nbsp;void&nbsp;update(<a href="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changeLog)
               throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/ReferentialIntegrityException.html?is-external=true" title="class or interface in javax.jcr">ReferentialIntegrityException</a>,
                      <a href="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</a>,
                      <a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">End an update operation. Fetch the states and references from
 the parent (shared) item manager, reconnect them to the items
 collected in our (local) change log and overwrite the shared
 items with our copies.
 <p/>
 If associated with a transaction, simply merge the changes given to
 the ones already known (removing items that were first added and
 then again deleted).</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#update(org.apache.jackrabbit.core.state.ChangeLog)">update</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>changeLog</code> - change log containing local states and references</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/ReferentialIntegrityException.html?is-external=true" title="class or interface in javax.jcr">ReferentialIntegrityException</a></code> - if a new or modified REFERENCE
                                       property refers to a non-existent
                                       target or if a removed node is still
                                       being referenced</dd>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/StaleItemStateException.html" title="class in org.apache.jackrabbit.core.state">StaleItemStateException</a></code> - if at least one of the affected item
                                       states has become stale in the meantime</dd>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="stateModified(org.apache.jackrabbit.core.state.ItemState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stateModified</h4>
<pre>public&nbsp;void&nbsp;stateModified(<a href="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</a>&nbsp;modified)</pre>
<div class="block">Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).
 <p/>
 Notification handler gets called for both local states that this state manager
 has created, as well as states that were created by the shared state manager
 we're listening to.

 Check whether the shared state modified is contained in our transactional
 log: in that case, update its state as well, as it might get reused
 in a subsequent transaction (see JCR-1554).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>modified</code> - the <code>ItemState</code> that has been 'modified'</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XAItemStateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/jackrabbit/core/state/UpdatableItemStateManager.html" title="interface in org.apache.jackrabbit.core.state"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/jackrabbit/core/state/XAItemStateManager.html" target="_top">Frames</a></li>
<li><a href="XAItemStateManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.jackrabbit.core.state.LocalItemStateManager">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
