<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Tue Feb 21 16:02:09 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>RepositoryStartupServlet (Apache Jackrabbit 2.4.0 API)</title>
<meta name="date" content="2012-02-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RepositoryStartupServlet (Apache Jackrabbit 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RepositoryStartupServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryAccessServlet.RMIClientFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.RemoteFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html" target="_top">Frames</a></li>
<li><a href="RepositoryStartupServlet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.j2ee</div>
<h2 title="Class RepositoryStartupServlet" class="title">Class RepositoryStartupServlet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>javax.servlet.GenericServlet</li>
<li>
<ul class="inheritance">
<li>javax.servlet.http.HttpServlet</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">org.apache.jackrabbit.servlet.AbstractRepositoryServlet</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.j2ee.RepositoryStartupServlet</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, javax.servlet.Servlet, javax.servlet.ServletConfig</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RepositoryStartupServlet</span>
extends <a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></pre>
<div class="block">The RepositoryStartupServlet starts a jackrabbit repository and registers it
 to the JNDI environment and optional to the RMI registry.
 <p id="registerAlgo">
 <b>Registration with RMI</b>
 <p/>
 Upon successfull creation of the repository in the <a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#init()"><code>init()</code></a> method,
 the repository is registered with an RMI registry if the web application is
 so configured. To register with RMI, the following web application
 <code>init-params</code> are considered: <code>rmi-port</code> designating
 the port on which the RMI registry is listening, <code>rmi-host</code>
 designating the interface on the local host on which the RMI registry is
 active, <code>repository-name</code> designating the name to which the
 repository is to be bound in the registry, and <code>rmi-uri</code>
 designating an RMI URI complete with host, optional port and name to which
 the object is bound.
 <p/>
 If the <code>rmi-uri</code> parameter is configured with a non-empty value,
 the <code>rmi-port</code> and <code>rmi-host</code> parameters are ignored.
 The <code>repository-name</code> parameter is only considered if a non-empty
 <code>rmi-uri</code> parameter is configured if the latter does not contain
 a name to which to bind the repository.
 <p/>
 This is the algorithm used to find out the host, port and name for RMI
 registration:
 <ol>
 <li>If neither a <code>rmi-uri</code> nor a <code>rmi-host</code> nor a
 <code>rmi-port</code> parameter is configured, the repository is not
 registered with any RMI registry.
 <li>If a non-empty <code>rmi-uri</code> parameter is configured extract the
 host name (or IP address), port number and name to bind to from the
 URI. If the URI is not valid, host defaults to <code>0.0.0.0</code>
 meaning all interfaces on the local host, port defaults to the RMI
 default port (<code>1099</code>) and the name defaults to the value
 of the <code>repository-name</code> parameter.
 <li>If a non-empty <code>rmi-uri</code> is not configured, the host is taken
 from the <code>rmi-host</code> parameter, the port from the
 <code>rmi-port</code> parameter and the name to bind the repository to
 from the <code>repository-name</code> parameter. If the
 <code>rmi-host</code> parameter is empty or not configured, the host
 defaults to <code>0.0.0.0</code> meaning all interfaces on the local
 host. If the <code>rmi-port</code> parameter is empty, not configured,
 zero or a negative value, the default port for the RMI registry
 (<code>1099</code>) is used.
 </ol>
 <p/>
 After finding the host and port of the registry, the RMI registry itself
 is acquired. It is assumed, that host and port primarily designate an RMI
 registry, which should be active on the local host but has not been started
 yet. In this case, the <code>LocateRegistry.createRegistry</code> method is
 called to create a registry on the local host listening on the host and port
 configured. If creation fails, the <code>LocateRegistry.getRegistry</code>
 method is called to get a remote instance of the registry. Note, that
 <code>getRegistry</code> does not create an actual registry on the given
 host/port nor does it check, whether an RMI registry is active.
 <p/>
 When the registry has been retrieved, either by creation or by just creating
 a remote instance, the repository is bound to the configured name in the
 registry.
 <p/>
 Possible causes for registration failures include:
 <ul>
 <li>The web application is not configured to register with an RMI registry at
 all.
 <li>The registry is expected to be running on a remote host but does not.
 <li>The registry is expected to be running on the local host but cannot be
 accessed. Reasons include another application which does not act as an
 RMI registry is running on the configured port and thus blocks creation
 of a new RMI registry.
 <li>An object may already be bound to the same name as is configured to be
 used for the repository.
 </ul>
 <p/>
 <b>Note:</b> if a <code>bootstrap-config</code> init parameter is specified the
 servlet tries to read the respective resource, either as context resource or
 as file. The properties specified in this file override the init params
 specified in the <code>web.xml</code>.
 <p/>
 <p/>
 <b>Setup Wizard Functionality</b><br>
 When using the first time, the configuraition can miss the relevant
 repository parameters in the web.xml. if so, it must contain a
 <code>bootstrap-config</code> parameter that referrs to a propertiy file.
 This file must exsit for proper working. If not, the repository is not
 started.<br>
 If the servlet is not configured correctly and accessed via http, it will
 provide a simple wizard for the first time configuration. It propmpts for
 a new (or existing) repository home and will copy the templates of the
 repository.xml and bootstrap.properties to the respective location.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../serialized-form.html#org.apache.jackrabbit.j2ee.RepositoryStartupServlet">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.RemoteFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee">RepositoryStartupServlet.RemoteFactoryDelegater</a></strong></code>
<div class="block">optional class for RMI, will only be used, if RMI server is present</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.RMIRemoteFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee">RepositoryStartupServlet.RMIRemoteFactoryDelegater</a></strong></code>
<div class="block">optional class for RMI, will only be used, if RMI server is present</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#INIT_PARAM_BOOTSTRAP_CONFIG">INIT_PARAM_BOOTSTRAP_CONFIG</a></strong></code>
<div class="block">initial param name for the bootstrap config location</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#RepositoryStartupServlet()">RepositoryStartupServlet</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html?is-external=true" title="class or interface in javax.jcr">Repository</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#createRepository(org.xml.sax.InputSource, java.io.File)">createRepository</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/org/xml/sax/InputSource.html?is-external=true" title="class or interface in org.xml.sax">InputSource</a>&nbsp;is,
                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;homedir)</code>
<div class="block">Creates the repository instance for the given config and homedir.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#destroy()">destroy</a></strong>()</code>
<div class="block">destroy the servlet</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">doGet</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;req,
     javax.servlet.http.HttpServletResponse&nbsp;resp)</code>
<div class="block">Outputs the repository descriptors either as a collection of properties
 (see <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html?is-external=true#store(java.io.OutputStream, java.lang.String)" title="class or interface in java.util"><code>Properties.store(java.io.OutputStream, String)</code></a> or
 individually addressable text/plain resources based on the request URI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">doPost</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;req,
      javax.servlet.http.HttpServletResponse&nbsp;resp)</code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/jackrabbit/j2ee/BootstrapConfig.html" title="class in org.apache.jackrabbit.j2ee">BootstrapConfig</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getBootstrapConfig()">getBootstrapConfig</a></strong>()</code>
<div class="block">Returns the config that was used to bootstrap this servlet.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html" title="class in org.apache.jackrabbit.j2ee">RepositoryStartupServlet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getInstance(javax.servlet.ServletContext)">getInstance</a></strong>(javax.servlet.ServletContext&nbsp;context)</code>
<div class="block">Returns an instance of this servlet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getRemoteFactoryDelegaterClass()">getRemoteFactoryDelegaterClass</a></strong>()</code>
<div class="block">Return the fully qualified name of the class providing the remote
 repository.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html?is-external=true" title="class or interface in javax.jcr">Repository</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getRepository()">getRepository</a></strong>()</code>
<div class="block">Returns the started repository or <code>null</code> if not started
 yet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/jackrabbit/commons/repository/RepositoryFactory.html" title="interface in org.apache.jackrabbit.commons.repository">RepositoryFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getRepositoryFactory()">getRepositoryFactory</a></strong>()</code>
<div class="block">Returns a repository factory that returns the repository if available
 or throws an exception if not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/rmi/server/RMIServerSocketFactory.html?is-external=true" title="class or interface in java.rmi.server">RMIServerSocketFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#getRMIServerSocketFactory(java.net.InetAddress)">getRMIServerSocketFactory</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;hostAddress)</code>
<div class="block">Returns an <code>RMIServerSocketFactory</code> used to create the server
 socket for a locally created RMI registry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#init()">init</a></strong>()</code>
<div class="block">Initializes the servlet.<br>
 Please note that only one repository startup servlet may exist per
 webapp.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#restart()">restart</a></strong>()</code>
<div class="block">Restarts the repository.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Does a shutdown of the repository and deregisters it from the RMI
 registry and unbinds if from the JNDI context if so configured.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#startup()">startup</a></strong>()</code>
<div class="block">Configures and starts the repository.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.jackrabbit.servlet.AbstractRepositoryServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.jackrabbit.servlet.<a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></h3>
<code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#getAttributeName()">getAttributeName</a>, <a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#getInitParameter(java.lang.String, java.lang.String)">getInitParameter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javax.servlet.http.HttpServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.http.HttpServlet</h3>
<code>doDelete, doHead, doOptions, doPut, doTrace, getLastModified, service, service</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javax.servlet.GenericServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.GenericServlet</h3>
<code>getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletInfo, getServletName, init, log, log</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INIT_PARAM_BOOTSTRAP_CONFIG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INIT_PARAM_BOOTSTRAP_CONFIG</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> INIT_PARAM_BOOTSTRAP_CONFIG</pre>
<div class="block">initial param name for the bootstrap config location</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.jackrabbit.j2ee.RepositoryStartupServlet.INIT_PARAM_BOOTSTRAP_CONFIG">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RepositoryStartupServlet()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RepositoryStartupServlet</h4>
<pre>public&nbsp;RepositoryStartupServlet()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()
          throws javax.servlet.ServletException</pre>
<div class="block">Initializes the servlet.<br>
 Please note that only one repository startup servlet may exist per
 webapp. it registers itself as context attribute and acts as singleton.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#init()">init</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - if a same servlet is already registered or of
 another initialization error occurs.</dd></dl>
</li>
</ul>
<a name="getInstance(javax.servlet.ServletContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html" title="class in org.apache.jackrabbit.j2ee">RepositoryStartupServlet</a>&nbsp;getInstance(javax.servlet.ServletContext&nbsp;context)</pre>
<div class="block">Returns an instance of this servlet. Please note, that only 1
 repository startup servlet can exist per webapp.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the servlet context</dd>
<dt><span class="strong">Returns:</span></dt><dd>this servlet</dd></dl>
</li>
</ul>
<a name="startup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startup</h4>
<pre>public&nbsp;void&nbsp;startup()
             throws javax.servlet.ServletException</pre>
<div class="block">Configures and starts the repository. It registers it then to the
 RMI registry and bind is to the JNDI context if so configured.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - if an error occurs.</dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Does a shutdown of the repository and deregisters it from the RMI
 registry and unbinds if from the JNDI context if so configured.</div>
</li>
</ul>
<a name="restart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restart</h4>
<pre>public&nbsp;void&nbsp;restart()
             throws javax.servlet.ServletException</pre>
<div class="block">Restarts the repository.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - if an error occurs.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#shutdown()"><code>shutdown()</code></a>, 
<a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html#startup()"><code>startup()</code></a></dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block">destroy the servlet</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>destroy</code>&nbsp;in interface&nbsp;<code>javax.servlet.Servlet</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#destroy()">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></code></dd>
</dl>
</li>
</ul>
<a name="getRepository()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepository</h4>
<pre>public&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html?is-external=true" title="class or interface in javax.jcr">Repository</a>&nbsp;getRepository()</pre>
<div class="block">Returns the started repository or <code>null</code> if not started
 yet.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#getRepository()">getRepository</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the JCR repository</dd></dl>
</li>
</ul>
<a name="getRepositoryFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepositoryFactory</h4>
<pre>public&nbsp;<a href="../../../../org/apache/jackrabbit/commons/repository/RepositoryFactory.html" title="interface in org.apache.jackrabbit.commons.repository">RepositoryFactory</a>&nbsp;getRepositoryFactory()</pre>
<div class="block">Returns a repository factory that returns the repository if available
 or throws an exception if not.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>repository factory</dd></dl>
</li>
</ul>
<a name="createRepository(org.xml.sax.InputSource, java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRepository</h4>
<pre>protected&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html?is-external=true" title="class or interface in javax.jcr">Repository</a>&nbsp;createRepository(<a href="http://download.oracle.com/javase/1.5.0/docs/api/org/xml/sax/InputSource.html?is-external=true" title="class or interface in org.xml.sax">InputSource</a>&nbsp;is,
                          <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;homedir)
                               throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Creates the repository instance for the given config and homedir.
 Subclasses may override this method of providing own implementations of
 a <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html?is-external=true" title="class or interface in javax.jcr"><code>Repository</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>is</code> - input source of the repository config</dd><dd><code>homedir</code> - the repository home directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new jcr repository.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - if an error during creation occurs.</dd></dl>
</li>
</ul>
<a name="getBootstrapConfig()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBootstrapConfig</h4>
<pre>public&nbsp;<a href="../../../../org/apache/jackrabbit/j2ee/BootstrapConfig.html" title="class in org.apache.jackrabbit.j2ee">BootstrapConfig</a>&nbsp;getBootstrapConfig()</pre>
<div class="block">Returns the config that was used to bootstrap this servlet.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the bootstrap config or <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getRemoteFactoryDelegaterClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteFactoryDelegaterClass</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRemoteFactoryDelegaterClass()</pre>
<div class="block">Return the fully qualified name of the class providing the remote
 repository. The class whose name is returned must implement the
 <a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.RemoteFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee"><code>RepositoryStartupServlet.RemoteFactoryDelegater</code></a> interface.
 <p/>
 Subclasses may override this method for providing a name of a own
 implementation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>getClass().getName() + "$RMIRemoteFactoryDelegater"</dd></dl>
</li>
</ul>
<a name="getRMIServerSocketFactory(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRMIServerSocketFactory</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/rmi/server/RMIServerSocketFactory.html?is-external=true" title="class or interface in java.rmi.server">RMIServerSocketFactory</a>&nbsp;getRMIServerSocketFactory(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;hostAddress)</pre>
<div class="block">Returns an <code>RMIServerSocketFactory</code> used to create the server
 socket for a locally created RMI registry.
 <p/>
 This implementation returns a new instance of a simple
 <code>RMIServerSocketFactory</code> which just creates instances of
 the <code>java.net.ServerSocket</code> class bound to the given
 <code>hostAddress</code>. Implementations may overwrite this method to
 provide factory instances, which provide more elaborate server socket
 creation, such as SSL server sockets.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hostAddress</code> - The <code>InetAddress</code> instance representing the
                    the interface on the local host to which the server sockets are
                    bound.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A new instance of a simple <code>RMIServerSocketFactory</code>
         creating <code>java.net.ServerSocket</code> instances bound to
         the <code>rmiHost</code>.</dd></dl>
</li>
</ul>
<a name="doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGet</h4>
<pre>protected&nbsp;void&nbsp;doGet(javax.servlet.http.HttpServletRequest&nbsp;req,
         javax.servlet.http.HttpServletResponse&nbsp;resp)
              throws javax.servlet.ServletException,
                     <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Outputs the repository descriptors either as a collection of properties
 (see <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html?is-external=true#store(java.io.OutputStream, java.lang.String)" title="class or interface in java.util"><code>Properties.store(java.io.OutputStream, String)</code></a> or
 individually addressable text/plain resources based on the request URI.
 <p>
 A typical mapping for a repository servlet would be:
 <pre>
 &lt;servlet-mapping&gt;
   &lt;servlet-name&gt;Repository&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/repository/*&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;
 </pre>
 <p>
 This mapping would allow clients to retrieve all repository descriptors
 from <code>http://server/context/repository/</code> and to address
 individual descriptors by key with URIs like
 <code>http://server/context/repository/<i>key</i></code>.
 For example, the name of the repository vendor could be retrieved from
 <code>http://server/context/repository/jcr.repository.vendor</code>.
 Likewise, a 404 (not found) response from
 <code>http://server/context/repository/level.2.supported</code> would
 indicate that the repository does not support Level 2 features.
 <p>
 Note that mapping a repository servlet to the URL space is optional,
 as the main purpose of the servlet is to make a repository available
 in the servlet context, not to expose repository information to web
 clients.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html#doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">doGet</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/jackrabbit/servlet/AbstractRepositoryServlet.html" title="class in org.apache.jackrabbit.servlet">AbstractRepositoryServlet</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - HTTP request</dd><dd><code>resp</code> - HTTP response</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - on servlet errors</dd>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - on IO errors</dd></dl>
</li>
</ul>
<a name="doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doPost</h4>
<pre>protected&nbsp;void&nbsp;doPost(javax.servlet.http.HttpServletRequest&nbsp;req,
          javax.servlet.http.HttpServletResponse&nbsp;resp)
               throws javax.servlet.ServletException,
                      <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>doPost</code>&nbsp;in class&nbsp;<code>javax.servlet.http.HttpServlet</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RepositoryStartupServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryAccessServlet.RMIClientFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/jackrabbit/j2ee/RepositoryStartupServlet.RemoteFactoryDelegater.html" title="class in org.apache.jackrabbit.j2ee"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/jackrabbit/j2ee/RepositoryStartupServlet.html" target="_top">Frames</a></li>
<li><a href="RepositoryStartupServlet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
