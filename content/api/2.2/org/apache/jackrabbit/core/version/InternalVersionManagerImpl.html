<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Wed Dec 15 19:17:25 EET 2010 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
InternalVersionManagerImpl (Apache Jackrabbit 2.2.0 API)
</TITLE>

<META NAME="date" CONTENT="2010-12-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="InternalVersionManagerImpl (Apache Jackrabbit 2.2.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/InternalVersionManagerImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.DynamicESCFactory.html" title="class in org.apache.jackrabbit.core.version"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="InternalVersionManagerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.jackrabbit.core.version</FONT>
<BR>
Class InternalVersionManagerImpl</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.jackrabbit.core.version.InternalVersionManagerImpl</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventListener.html" title="interface in org.apache.jackrabbit.core.cluster">UpdateEventListener</A>, <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A>, <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>InternalVersionManagerImpl</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A>, <A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventListener.html" title="interface in org.apache.jackrabbit.core.cluster">UpdateEventListener</A></DL>
</PRE>

<P>
This Class implements a VersionManager.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.DynamicESCFactory.html" title="class in org.apache.jackrabbit.core.version">InternalVersionManagerImpl.DynamicESCFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#activitiesId">activitiesId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#historiesId">historiesId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#ntReg">ntReg</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Node type registry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#stateMgr">stateMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State manager for the version storage.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#InternalVersionManagerImpl(org.apache.jackrabbit.core.persistence.PersistenceManager, org.apache.jackrabbit.core.fs.FileSystem, org.apache.jackrabbit.core.nodetype.NodeTypeRegistry, org.apache.jackrabbit.core.observation.DelegatingObservationDispatcher, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.state.ItemStateCacheFactory, org.apache.jackrabbit.core.state.ISMLocking)">InternalVersionManagerImpl</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A>&nbsp;pMgr,
                           <A HREF="../../../../../org/apache/jackrabbit/core/fs/FileSystem.html" title="interface in org.apache.jackrabbit.core.fs">FileSystem</A>&nbsp;fs,
                           <A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A>&nbsp;ntReg,
                           <A HREF="../../../../../org/apache/jackrabbit/core/observation/DelegatingObservationDispatcher.html" title="class in org.apache.jackrabbit.core.observation">DelegatingObservationDispatcher</A>&nbsp;obsMgr,
                           <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;systemId,
                           <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;historiesId,
                           <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;activitiesId,
                           <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</A>&nbsp;cacheFactory,
                           <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking</A>&nbsp;ismLocking)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new internal version manager</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.ReadLock.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking.ReadLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#acquireReadLock()">acquireReadLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acquires the read lock on this version manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.WriteLock.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking.WriteLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#acquireWriteLock()">acquireWriteLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Acquires the write lock on this version manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#calculateCheckinVersionName(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.core.version.NodeStateEx, boolean)">calculateCheckinVersionName</A></B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                            <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                            boolean&nbsp;simple)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculates the name of the new version that will be created by a
 checkin call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#canCheckout(org.apache.jackrabbit.core.version.NodeStateEx, org.apache.jackrabbit.core.id.NodeId)">canCheckout</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;state,
            <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;activityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invokes the checkout() on the persistent version manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#checkin(org.apache.jackrabbit.core.version.NodeStateEx, java.util.Calendar)">checkin</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
        <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new version of the given node using the given version
 creation time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#checkin(javax.jcr.Session, org.apache.jackrabbit.core.version.NodeStateEx, java.util.Calendar)">checkin</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
        <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
        <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invokes the checkin() on the persistent version manager and remaps the
 newly created version objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close this version manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#createActivity(javax.jcr.Session, java.lang.String)">createActivity</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
               <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;title)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new activity</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#createInternalVersionItem(org.apache.jackrabbit.core.id.NodeId)">createInternalVersionItem</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version"><CODE>InternalVersionItem</CODE></A> based on the <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state"><CODE>NodeState</CODE></A>
 identified by <code>id</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/VersionItemStateManager.html" title="class in org.apache.jackrabbit.core.version">VersionItemStateManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#createItemStateManager(org.apache.jackrabbit.core.persistence.PersistenceManager, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.nodetype.NodeTypeRegistry, org.apache.jackrabbit.core.state.ItemStateCacheFactory, org.apache.jackrabbit.core.state.ISMLocking)">createItemStateManager</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A>&nbsp;pMgr,
                       <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;rootId,
                       <A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A>&nbsp;ntReg,
                       <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</A>&nbsp;cacheFactory,
                       <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking</A>&nbsp;ismLocking)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <code>VersionItemStateManager</code> or derivative.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/VersionHistoryInfo.html" title="class in org.apache.jackrabbit.core.version">VersionHistoryInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#createVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)">createVersionHistory</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                     <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;node,
                     <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;copiedFrom)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new version history.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#externalUpdate(org.apache.jackrabbit.core.state.ChangeLog, java.util.List, long, java.lang.String)">externalUpdate</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</A>&nbsp;changes,
               <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../org/apache/jackrabbit/core/observation/EventState.html" title="class in org.apache.jackrabbit.core.observation">EventState</A>&gt;&nbsp;events,
               long&nbsp;timestamp,
               <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle an external update.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getActivitiesRoot()">getActivitiesRoot</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the activities root node</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalActivity.html" title="interface in org.apache.jackrabbit.core.version">InternalActivity</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getActivity(org.apache.jackrabbit.core.id.NodeId)">getActivity</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the activity with the given id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalBaseline.html" title="interface in org.apache.jackrabbit.core.version">InternalBaseline</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getBaseline(org.apache.jackrabbit.core.id.NodeId)">getBaseline</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the baseline with the given id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.DynamicESCFactory.html" title="class in org.apache.jackrabbit.core.version">InternalVersionManagerImpl.DynamicESCFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getEscFactory()">getEscFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the event state collection factory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getHeadVersionOfNode(org.apache.jackrabbit.core.id.NodeId)">getHeadVersionOfNode</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the head version of the node with the given id. this is always
 the last of all versions. this only works correctly for liner version
 graphs (i.e. simple versioning)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getHistoryRoot()">getHistoryRoot</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the version history root node</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getItem(org.apache.jackrabbit.core.id.NodeId)">getItem</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the item with the given persistent id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getName(java.lang.String)">getName</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method that returns the given string as a name in the default
 namespace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getNodeStateEx(org.apache.jackrabbit.core.id.NodeId)">getNodeStateEx</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;parentNodeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the node with the given persistent id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getParentNode(org.apache.jackrabbit.core.version.NodeStateEx, java.lang.String, org.apache.jackrabbit.spi.Name)">getParentNode</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;parent,
              <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;uuid,
              <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;interNT)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method that returns the parent node under which the version
 history of the identified versionable node is or will be stored.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getPersistenceManager()">getPersistenceManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the persistence manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getSharedStateMgr()">getSharedStateMgr</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the shared item state manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVersion(org.apache.jackrabbit.core.id.NodeId)">getVersion</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the version with the given id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVersionHistory(org.apache.jackrabbit.core.id.NodeId)">getVersionHistory</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the version history with the given id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/VersionHistoryInfo.html" title="class in org.apache.jackrabbit.core.version">VersionHistoryInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)">getVersionHistory</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                  <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;node,
                  <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;copiedFrom)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns information about the version history of the specified node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVersionHistoryOfNode(org.apache.jackrabbit.core.id.NodeId)">getVersionHistoryOfNode</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the version history for the versionable node with the given id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/virtual/VirtualItemStateProvider.html" title="interface in org.apache.jackrabbit.core.virtual">VirtualItemStateProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVirtualItemStateProvider()">getVirtualItemStateProvider</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the virtual item state provider that exposes the internal versions
 as items.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#hasItem(org.apache.jackrabbit.core.id.NodeId)">hasItem</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a flag indicating if the item specified exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#hasItemReferences(org.apache.jackrabbit.core.id.NodeId)">hasItemReferences</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if there are item references (from outside the version storage)
 that reference the given node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#internalCheckin(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.core.version.NodeStateEx, boolean, java.util.Calendar)">internalCheckin</A></B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                boolean&nbsp;simple,
                <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks in a node</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#internalRemoveActivity(org.apache.jackrabbit.core.version.InternalActivityImpl)">internalRemoveActivity</A></B>(org.apache.jackrabbit.core.version.InternalActivityImpl&nbsp;activity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified activity</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#internalRemoveVersion(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.spi.Name)">internalRemoveVersion</A></B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                      <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified version from the history</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#itemDiscarded(org.apache.jackrabbit.core.version.InternalVersionItem)">itemDiscarded</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A>&nbsp;item)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked by the internal version item itself, when it's underlying
 persistence state was discarded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#itemsUpdated(java.util.Collection)">itemsUpdated</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A>&gt;&nbsp;items)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked by some external source to indicate that some items in the
 versions tree were updated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#removeActivity(javax.jcr.Session, org.apache.jackrabbit.core.id.NodeId)">removeActivity</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
               <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;nodeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes an activity and all</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#removeVersion(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name)">removeVersion</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
              <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A>&nbsp;history,
              <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified version from the given version history.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#setEventChannel(org.apache.jackrabbit.core.cluster.UpdateEventChannel)">setEventChannel</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventChannel.html" title="interface in org.apache.jackrabbit.core.cluster">UpdateEventChannel</A>&nbsp;eventChannel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set an event channel to inform about updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#setVersionLabel(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.spi.Name, boolean)">setVersionLabel</A></B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;version,
                <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;label,
                boolean&nbsp;move)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set version label on the specified version.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#setVersionLabel(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.spi.Name, boolean)">setVersionLabel</A></B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A>&nbsp;history,
                <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;version,
                <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;label,
                boolean&nbsp;move)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the version <code>label</code> to the given <code>version</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#versionCreated(org.apache.jackrabbit.core.version.InternalVersion)">versionCreated</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A>&nbsp;version)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked when a new internal item has been created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#versionDestroyed(org.apache.jackrabbit.core.version.InternalVersion)">versionDestroyed</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A>&nbsp;version)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked when a new internal item has been destroyed.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="stateMgr"><!-- --></A><H3>
stateMgr</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/LocalItemStateManager.html" title="class in org.apache.jackrabbit.core.state">LocalItemStateManager</A> <B>stateMgr</B></PRE>
<DL>
<DD>State manager for the version storage.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ntReg"><!-- --></A><H3>
ntReg</H3>
<PRE>
protected final <A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A> <B>ntReg</B></PRE>
<DL>
<DD>Node type registry.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="historiesId"><!-- --></A><H3>
historiesId</H3>
<PRE>
protected final <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A> <B>historiesId</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="activitiesId"><!-- --></A><H3>
activitiesId</H3>
<PRE>
protected final <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A> <B>activitiesId</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="InternalVersionManagerImpl(org.apache.jackrabbit.core.persistence.PersistenceManager, org.apache.jackrabbit.core.fs.FileSystem, org.apache.jackrabbit.core.nodetype.NodeTypeRegistry, org.apache.jackrabbit.core.observation.DelegatingObservationDispatcher, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.state.ItemStateCacheFactory, org.apache.jackrabbit.core.state.ISMLocking)"><!-- --></A><H3>
InternalVersionManagerImpl</H3>
<PRE>
public <B>InternalVersionManagerImpl</B>(<A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A>&nbsp;pMgr,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/fs/FileSystem.html" title="interface in org.apache.jackrabbit.core.fs">FileSystem</A>&nbsp;fs,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A>&nbsp;ntReg,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/observation/DelegatingObservationDispatcher.html" title="class in org.apache.jackrabbit.core.observation">DelegatingObservationDispatcher</A>&nbsp;obsMgr,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;systemId,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;historiesId,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;activitiesId,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</A>&nbsp;cacheFactory,
                                  <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking</A>&nbsp;ismLocking)
                           throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Creates a new internal version manager
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>pMgr</CODE> - underlying persistence manager<DD><CODE>fs</CODE> - workspace file system<DD><CODE>ntReg</CODE> - node type registry<DD><CODE>obsMgr</CODE> - observation manager<DD><CODE>systemId</CODE> - node id of the version storage parent (i.e. jcr:system)<DD><CODE>historiesId</CODE> - node id of the version storage (i.e. jcr:versionStorage)<DD><CODE>activitiesId</CODE> - node id of the activities storage (i.e. jcr:activities)<DD><CODE>cacheFactory</CODE> - item state cache factory<DD><CODE>ismLocking</CODE> - workspace item state locking
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getVirtualItemStateProvider()"><!-- --></A><H3>
getVirtualItemStateProvider</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/virtual/VirtualItemStateProvider.html" title="interface in org.apache.jackrabbit.core.virtual">VirtualItemStateProvider</A> <B>getVirtualItemStateProvider</B>()</PRE>
<DL>
<DD>returns the virtual item state provider that exposes the internal versions
 as items.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getVirtualItemStateProvider()">getVirtualItemStateProvider</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the virtual item state provider.</DL>
</DD>
</DL>
<HR>

<A NAME="getPersistenceManager()"><!-- --></A><H3>
getPersistenceManager</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A> <B>getPersistenceManager</B>()</PRE>
<DL>
<DD>Return the persistence manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the persistence manager</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()
           throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Close this version manager. After having closed a persistence
 manager, further operations on this object are treated as illegal
 and throw
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getEscFactory()"><!-- --></A><H3>
getEscFactory</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.DynamicESCFactory.html" title="class in org.apache.jackrabbit.core.version">InternalVersionManagerImpl.DynamicESCFactory</A> <B>getEscFactory</B>()</PRE>
<DL>
<DD>Returns the event state collection factory.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the event state collection factory.</DL>
</DD>
</DL>
<HR>

<A NAME="createVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
createVersionHistory</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/VersionHistoryInfo.html" title="class in org.apache.jackrabbit.core.version">VersionHistoryInfo</A> <B>createVersionHistory</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                                                  <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;node,
                                                  <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;copiedFrom)
                                           throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Creates a new version history. This action is needed either when creating
 a new 'mix:versionable' node or when adding the 'mix:versionable' mixin
 to a node.
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - repository session<DD><CODE>node</CODE> - versionable node state<DD><CODE>copiedFrom</CODE> - node id for the jcr:copiedFrom property
<DT><B>Returns:</B><DD>identifier of the new version history node
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurrs<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html#getVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)"><CODE>getVersionHistory(Session, NodeState, NodeId)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="createActivity(javax.jcr.Session, java.lang.String)"><!-- --></A><H3>
createActivity</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A> <B>createActivity</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                             <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;title)
                      throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Creates a new activity
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#createActivity(javax.jcr.Session, java.lang.String)">createActivity</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - the current session<DD><CODE>title</CODE> - title of the new activity
<DT><B>Returns:</B><DD>the nodeid of the new activity
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="removeActivity(javax.jcr.Session, org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
removeActivity</H3>
<PRE>
public void <B>removeActivity</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                           <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;nodeId)
                    throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Removes an activity and all
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#removeActivity(javax.jcr.Session, org.apache.jackrabbit.core.id.NodeId)">removeActivity</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - the current session<DD><CODE>nodeId</CODE> - id of the activity to remove
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="hasItem(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
hasItem</H3>
<PRE>
public boolean <B>hasItem</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)</PRE>
<DL>
<DD>Return a flag indicating if the item specified exists.
 Subclass responsibility.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the id of the item
<DT><B>Returns:</B><DD><code>true</code> if the item exists;
         <code>false</code> otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getItem(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getItem</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A> <B>getItem</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                               throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the item with the given persistent id. Subclass responsibility.
 <p/>
 Please note, that the overridden method must acquire the readlock before
 reading the state manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the id of the item
<DT><B>Returns:</B><DD>version item
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="canCheckout(org.apache.jackrabbit.core.version.NodeStateEx, org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
canCheckout</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A> <B>canCheckout</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;state,
                          <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;activityId)
                   throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>invokes the checkout() on the persistent version manager.

 this method currently does no modifications to the persistence and just
 checks if the checkout is valid in respect to a possible activity set on
 the session
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#canCheckout(org.apache.jackrabbit.core.version.NodeStateEx, org.apache.jackrabbit.core.id.NodeId)">canCheckout</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - node to checkout<DD><CODE>activityId</CODE> - node id if the current activity
<DT><B>Returns:</B><DD>the base version id
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="checkin(javax.jcr.Session, org.apache.jackrabbit.core.version.NodeStateEx, java.util.Calendar)"><!-- --></A><H3>
checkin</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>checkin</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                               <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                               <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)
                        throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>invokes the checkin() on the persistent version manager and remaps the
 newly created version objects.
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#checkin(javax.jcr.Session, org.apache.jackrabbit.core.version.NodeStateEx, java.util.Calendar)">checkin</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - session that invokes the checkin<DD><CODE>node</CODE> - node to checkin<DD><CODE>created</CODE> - create time of the new version,
                or <code>null</code> for the current time
<DT><B>Returns:</B><DD>the newly created version
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="removeVersion(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name)"><!-- --></A><H3>
removeVersion</H3>
<PRE>
public void <B>removeVersion</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                          <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A>&nbsp;history,
                          <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;name)
                   throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/version/VersionException.html?is-external=true" title="class or interface in javax.jcr.version">VersionException</A>,
                          <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Removes the specified version from the given version history.
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#removeVersion(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name)">removeVersion</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - the session that performs the remove<DD><CODE>history</CODE> - version history to remove the version from<DD><CODE>name</CODE> - name of the version
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/version/VersionException.html?is-external=true" title="class or interface in javax.jcr.version">VersionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setVersionLabel(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.spi.Name, boolean)"><!-- --></A><H3>
setVersionLabel</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>setVersionLabel</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                                       <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A>&nbsp;history,
                                       <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;version,
                                       <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;label,
                                       boolean&nbsp;move)
                                throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Sets the version <code>label</code> to the given <code>version</code>.
 If the label is already assigned to another version, a VersionException is
 thrown unless <code>move</code> is <code>true</code>. If <code>version</code>
 is <code>null</code>, the label is removed from the respective version.
 In either case, the version the label was previously assigned is returned,
 or <code>null</code> of the label was not moved.
 <p/>
 This method must not be synchronized since it could cause deadlocks with
 item-reading listeners in the observation thread.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#setVersionLabel(javax.jcr.Session, org.apache.jackrabbit.core.version.InternalVersionHistory, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.spi.Name, boolean)">setVersionLabel</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - the session that performs the operation<DD><CODE>history</CODE> - version history<DD><CODE>version</CODE> - name of the version<DD><CODE>label</CODE> - new label<DD><CODE>move</CODE> - if <code>true</code> label will be moved
<DT><B>Returns:</B><DD>the version that had the label or <code>null</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="itemsUpdated(java.util.Collection)"><!-- --></A><H3>
itemsUpdated</H3>
<PRE>
public void <B>itemsUpdated</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A>&gt;&nbsp;items)</PRE>
<DL>
<DD>Invoked by some external source to indicate that some items in the
 versions tree were updated. Version histories are reloaded if possible.
 Matching items are removed from the cache.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>items</CODE> - items updated</DL>
</DD>
</DL>
<HR>

<A NAME="setEventChannel(org.apache.jackrabbit.core.cluster.UpdateEventChannel)"><!-- --></A><H3>
setEventChannel</H3>
<PRE>
public void <B>setEventChannel</B>(<A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventChannel.html" title="interface in org.apache.jackrabbit.core.cluster">UpdateEventChannel</A>&nbsp;eventChannel)</PRE>
<DL>
<DD>Set an event channel to inform about updates.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eventChannel</CODE> - event channel</DL>
</DD>
</DL>
<HR>

<A NAME="itemDiscarded(org.apache.jackrabbit.core.version.InternalVersionItem)"><!-- --></A><H3>
itemDiscarded</H3>
<PRE>
protected void <B>itemDiscarded</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A>&nbsp;item)</PRE>
<DL>
<DD>Invoked by the internal version item itself, when it's underlying
 persistence state was discarded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - item that was discarded</DL>
</DD>
</DL>
<HR>

<A NAME="hasItemReferences(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
hasItemReferences</H3>
<PRE>
protected boolean <B>hasItemReferences</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                             throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Checks if there are item references (from outside the version storage)
 that reference the given node. Subclass responsibility.
 <p/>
 Please note, that the overridden method must acquire the readlock before
 reading the state manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the id of the node
<DT><B>Returns:</B><DD><code>true</code> if there are item references from outside the
         version storage; <code>false</code> otherwise.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs while reading from the
                             repository.</DL>
</DD>
</DL>
<HR>

<A NAME="getNodeStateEx(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getNodeStateEx</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A> <B>getNodeStateEx</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;parentNodeId)
                              throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the node with the given persistent id. Subclass responsibility.
 <p/>
 Please note, that the overridden method must acquire the readlock before
 reading the state manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parentNodeId</CODE> - the id of the node
<DT><B>Returns:</B><DD>the nodestate for the given id.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs while reading from the
                             repository.</DL>
</DD>
</DL>
<HR>

<A NAME="getHistoryRoot()"><!-- --></A><H3>
getHistoryRoot</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A> <B>getHistoryRoot</B>()</PRE>
<DL>
<DD>returns the version history root node
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the version history root node</DL>
</DD>
</DL>
<HR>

<A NAME="getActivitiesRoot()"><!-- --></A><H3>
getActivitiesRoot</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A> <B>getActivitiesRoot</B>()</PRE>
<DL>
<DD>returns the activities root node
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the activities root node</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedStateMgr()"><!-- --></A><H3>
getSharedStateMgr</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/SharedItemStateManager.html" title="class in org.apache.jackrabbit.core.state">SharedItemStateManager</A> <B>getSharedStateMgr</B>()</PRE>
<DL>
<DD>Returns the shared item state manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the shared item state manager.</DL>
</DD>
</DL>
<HR>

<A NAME="createItemStateManager(org.apache.jackrabbit.core.persistence.PersistenceManager, org.apache.jackrabbit.core.id.NodeId, org.apache.jackrabbit.core.nodetype.NodeTypeRegistry, org.apache.jackrabbit.core.state.ItemStateCacheFactory, org.apache.jackrabbit.core.state.ISMLocking)"><!-- --></A><H3>
createItemStateManager</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/VersionItemStateManager.html" title="class in org.apache.jackrabbit.core.version">VersionItemStateManager</A> <B>createItemStateManager</B>(<A HREF="../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</A>&nbsp;pMgr,
                                                         <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;rootId,
                                                         <A HREF="../../../../../org/apache/jackrabbit/core/nodetype/NodeTypeRegistry.html" title="class in org.apache.jackrabbit.core.nodetype">NodeTypeRegistry</A>&nbsp;ntReg,
                                                         <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateCacheFactory.html" title="interface in org.apache.jackrabbit.core.state">ItemStateCacheFactory</A>&nbsp;cacheFactory,
                                                         <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking</A>&nbsp;ismLocking)
                                                  throws <A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Creates a <code>VersionItemStateManager</code> or derivative.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pMgr</CODE> - persistence manager<DD><CODE>rootId</CODE> - root node id<DD><CODE>ntReg</CODE> - node type registry<DD><CODE>cacheFactory</CODE> - cache factory<DD><CODE>ismLocking</CODE> - the ISM locking implementation
<DT><B>Returns:</B><DD>item state manager
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="stateCreated(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateCreated</H3>
<PRE>
public void <B>stateCreated</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).
 <p/>
 Not used.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>created</CODE> - the <code>ItemState</code> that has been 'created'</DL>
</DD>
</DL>
<HR>

<A NAME="stateModified(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateModified</H3>
<PRE>
public void <B>stateModified</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).
 <p/>
 Not used.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>modified</CODE> - the <code>ItemState</code> that has been 'modified'</DL>
</DD>
</DL>
<HR>

<A NAME="stateDestroyed(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDestroyed</H3>
<PRE>
public void <B>stateDestroyed</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).
 <p/>
 Remove item from cache on removal.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>destroyed</CODE> - the <code>ItemState</code> that has been 'destroyed'</DL>
</DD>
</DL>
<HR>

<A NAME="stateDiscarded(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDiscarded</H3>
<PRE>
public void <B>stateDiscarded</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').
 <p/>
 Not used.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>discarded</CODE> - the <code>ItemState</code> that has been discarded<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/jackrabbit/core/state/ItemState.html#discard()"><CODE>ItemState.discard()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="externalUpdate(org.apache.jackrabbit.core.state.ChangeLog, java.util.List, long, java.lang.String)"><!-- --></A><H3>
externalUpdate</H3>
<PRE>
public void <B>externalUpdate</B>(<A HREF="../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</A>&nbsp;changes,
                           <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../org/apache/jackrabbit/core/observation/EventState.html" title="class in org.apache.jackrabbit.core.observation">EventState</A>&gt;&nbsp;events,
                           long&nbsp;timestamp,
                           <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userData)
                    throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Handle an external update.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventListener.html#externalUpdate(org.apache.jackrabbit.core.state.ChangeLog, java.util.List, long, java.lang.String)">externalUpdate</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/cluster/UpdateEventListener.html" title="interface in org.apache.jackrabbit.core.cluster">UpdateEventListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changes</CODE> - external changes containing only node and property ids.<DD><CODE>events</CODE> - events to deliver<DD><CODE>timestamp</CODE> - when the change occured.<DD><CODE>userData</CODE> - the user data associated with this update.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if the update cannot be processed</DL>
</DD>
</DL>
<HR>

<A NAME="getVersion(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getVersion</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>getVersion</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                           throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the version with the given id
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getVersion(org.apache.jackrabbit.core.id.NodeId)">getVersion</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the version to retrieve
<DT><B>Returns:</B><DD>the version or <code>null</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getBaseline(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getBaseline</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalBaseline.html" title="interface in org.apache.jackrabbit.core.version">InternalBaseline</A> <B>getBaseline</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                             throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the baseline with the given id
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getBaseline(org.apache.jackrabbit.core.id.NodeId)">getBaseline</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the baseline version to retrieve
<DT><B>Returns:</B><DD>the baseline or <code>null</code> if not found
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getActivity(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getActivity</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalActivity.html" title="interface in org.apache.jackrabbit.core.version">InternalActivity</A> <B>getActivity</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                             throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the activity with the given id
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getActivity(org.apache.jackrabbit.core.id.NodeId)">getActivity</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the activity to retrieve
<DT><B>Returns:</B><DD>the activity.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getVersionHistory(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getVersionHistory</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A> <B>getVersionHistory</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                                         throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the version history with the given id
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getVersionHistory(org.apache.jackrabbit.core.id.NodeId)">getVersionHistory</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the version history
<DT><B>Returns:</B><DD>the version history.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="getVersionHistoryOfNode(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getVersionHistoryOfNode</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionHistory.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionHistory</A> <B>getVersionHistoryOfNode</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                                               throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the version history for the versionable node with the given id.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getVersionHistoryOfNode(org.apache.jackrabbit.core.id.NodeId)">getVersionHistoryOfNode</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the node to retrieve the version history for
<DT><B>Returns:</B><DD>the version history
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs or the history does not exit</DL>
</DD>
</DL>
<HR>

<A NAME="getHeadVersionOfNode(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getHeadVersionOfNode</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>getHeadVersionOfNode</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                                     throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the head version of the node with the given id. this is always
 the last of all versions. this only works correctly for liner version
 graphs (i.e. simple versioning)

 Assumes that all versions are stored chronologically below the version
 history and just returns the last one. i.e. currently only works for
 simple versioning.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getHeadVersionOfNode(org.apache.jackrabbit.core.id.NodeId)">getHeadVersionOfNode</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the node to retrieve the version for
<DT><B>Returns:</B><DD>the version.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="acquireWriteLock()"><!-- --></A><H3>
acquireWriteLock</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.WriteLock.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking.WriteLock</A> <B>acquireWriteLock</B>()</PRE>
<DL>
<DD>Acquires the write lock on this version manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>returns the write lock</DL>
</DD>
</DL>
<HR>

<A NAME="acquireReadLock()"><!-- --></A><H3>
acquireReadLock</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/state/ISMLocking.ReadLock.html" title="interface in org.apache.jackrabbit.core.state">ISMLocking.ReadLock</A> <B>acquireReadLock</B>()</PRE>
<DL>
<DD>acquires the read lock on this version manager.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>returns the read lock</DL>
</DD>
</DL>
<HR>

<A NAME="getVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
getVersionHistory</H3>
<PRE>
public <A HREF="../../../../../org/apache/jackrabbit/core/version/VersionHistoryInfo.html" title="class in org.apache.jackrabbit.core.version">VersionHistoryInfo</A> <B>getVersionHistory</B>(<A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                                            <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;node,
                                            <A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;copiedFrom)
                                     throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns information about the version history of the specified node.
 If the given node does not already have an associated version history,
 then an empty history is automatically created. This method should
 only be called by code that already knows that the specified node
 is versionable.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html#getVersionHistory(javax.jcr.Session, org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.id.NodeId)">getVersionHistory</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - workspace session<DD><CODE>node</CODE> - node whose version history should be returned<DD><CODE>copiedFrom</CODE> - the node id for the jcr:copiedFrom property use for copied nodes
<DT><B>Returns:</B><DD>identifiers of the version history and root version nodes
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="internalRemoveActivity(org.apache.jackrabbit.core.version.InternalActivityImpl)"><!-- --></A><H3>
internalRemoveActivity</H3>
<PRE>
protected void <B>internalRemoveActivity</B>(org.apache.jackrabbit.core.version.InternalActivityImpl&nbsp;activity)
                               throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Removes the specified activity
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>activity</CODE> - the acitvity to remove
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if any other error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="getName(java.lang.String)"><!-- --></A><H3>
getName</H3>
<PRE>
protected static <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A> <B>getName</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Utility method that returns the given string as a name in the default
 namespace.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - string name
<DT><B>Returns:</B><DD>A <code>Name</code> object.</DL>
</DD>
</DL>
<HR>

<A NAME="getParentNode(org.apache.jackrabbit.core.version.NodeStateEx, java.lang.String, org.apache.jackrabbit.spi.Name)"><!-- --></A><H3>
getParentNode</H3>
<PRE>
protected static <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A> <B>getParentNode</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;parent,
                                           <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;uuid,
                                           <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;interNT)
                                    throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Utility method that returns the parent node under which the version
 history of the identified versionable node is or will be stored. If
 the <code>interNT</code> is not <code>null</code> then the returned
 parent node and any ancestor nodes are automatically created if they do
 not already exist. Otherwise
 <code>null</code> is returned if the parent node does not exist.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parent</CODE> - the parent node<DD><CODE>uuid</CODE> - UUID of a versionable node<DD><CODE>interNT</CODE> - intermediate nodetype.
<DT><B>Returns:</B><DD>parent node of the version history, or <code>null</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="checkin(org.apache.jackrabbit.core.version.NodeStateEx, java.util.Calendar)"><!-- --></A><H3>
checkin</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>checkin</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                                  <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)
                           throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Creates a new version of the given node using the given version
 creation time.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the node to be checked in<DD><CODE>created</CODE> - version creation time
<DT><B>Returns:</B><DD>the new version
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="internalCheckin(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.core.version.NodeStateEx, boolean, java.util.Calendar)"><!-- --></A><H3>
internalCheckin</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>internalCheckin</B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                                          <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                                          boolean&nbsp;simple,
                                          <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html?is-external=true" title="class or interface in java.util">Calendar</A>&nbsp;created)
                                   throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Checks in a node
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - the version history<DD><CODE>node</CODE> - node to checkin<DD><CODE>simple</CODE> - flag indicates simple versioning<DD><CODE>created</CODE> - optional created date.
<DT><B>Returns:</B><DD>internal version
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs<DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#checkin()" title="class or interface in javax.jcr"><CODE>Node.checkin()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="calculateCheckinVersionName(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.core.version.NodeStateEx, boolean)"><!-- --></A><H3>
calculateCheckinVersionName</H3>
<PRE>
protected <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>calculateCheckinVersionName</B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                                             <A HREF="../../../../../org/apache/jackrabbit/core/version/NodeStateEx.html" title="class in org.apache.jackrabbit.core.version">NodeStateEx</A>&nbsp;node,
                                             boolean&nbsp;simple)
                                      throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Calculates the name of the new version that will be created by a
 checkin call. The name is determined as follows:
 <ul>
 <li> first the predecessor version with the shortes name is searched.
 <li> if that predecessor version is the root version, the new version gets
      the name "{number of successors}+1" + ".0"
 <li> if that predecessor version has no successor, the last digit of it's
      version number is incremented.
 <li> if that predecessor version has successors but the incremented name
      does not exist, that name is used.
 <li> otherwise a ".0" is added to the name until a non conflicting name
      is found.
 <ul>

 Example Graph:
 <xmp>
 jcr:rootVersion
  |     |
 1.0   2.0
  |
 1.1
  |
 1.2 ---\  ------\
  |      \        \
 1.3   1.2.0   1.2.0.0
  |      |
 1.4   1.2.1 ----\
  |      |        \
 1.5   1.2.2   1.2.1.0
  |      |        |
 1.6     |     1.2.1.1
  |-----/
 1.7
 </xmp>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - the version history<DD><CODE>node</CODE> - the node to checkin<DD><CODE>simple</CODE> - if <code>true</code> indicates simple versioning
<DT><B>Returns:</B><DD>the new version name
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="internalRemoveVersion(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.spi.Name)"><!-- --></A><H3>
internalRemoveVersion</H3>
<PRE>
protected void <B>internalRemoveVersion</B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                                     <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;name)
                              throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/version/VersionException.html?is-external=true" title="class or interface in javax.jcr.version">VersionException</A>,
                                     <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Removes the specified version from the history
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - the version history from where to remove the version.<DD><CODE>name</CODE> - the name of the version to remove.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/version/VersionException.html?is-external=true" title="class or interface in javax.jcr.version">VersionException</A></CODE> - if the version <code>history</code> does
  not have a version with <code>name</code>.
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if any other error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="setVersionLabel(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl, org.apache.jackrabbit.spi.Name, org.apache.jackrabbit.spi.Name, boolean)"><!-- --></A><H3>
setVersionLabel</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A> <B>setVersionLabel</B>(org.apache.jackrabbit.core.version.InternalVersionHistoryImpl&nbsp;history,
                                          <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;version,
                                          <A HREF="../../../../../org/apache/jackrabbit/spi/Name.html" title="interface in org.apache.jackrabbit.spi">Name</A>&nbsp;label,
                                          boolean&nbsp;move)
                                   throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Set version label on the specified version.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - version history<DD><CODE>version</CODE> - version name<DD><CODE>label</CODE> - version label<DD><CODE>move</CODE> - <code>true</code> to move from existing version;
             <code>false</code> otherwise.
<DT><B>Returns:</B><DD>The internal version.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="versionCreated(org.apache.jackrabbit.core.version.InternalVersion)"><!-- --></A><H3>
versionCreated</H3>
<PRE>
protected void <B>versionCreated</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A>&nbsp;version)</PRE>
<DL>
<DD>Invoked when a new internal item has been created.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>version</CODE> - internal version item</DL>
</DD>
</DL>
<HR>

<A NAME="versionDestroyed(org.apache.jackrabbit.core.version.InternalVersion)"><!-- --></A><H3>
versionDestroyed</H3>
<PRE>
protected void <B>versionDestroyed</B>(<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersion.html" title="interface in org.apache.jackrabbit.core.version">InternalVersion</A>&nbsp;version)</PRE>
<DL>
<DD>Invoked when a new internal item has been destroyed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>version</CODE> - internal version item</DL>
</DD>
</DL>
<HR>

<A NAME="createInternalVersionItem(org.apache.jackrabbit.core.id.NodeId)"><!-- --></A><H3>
createInternalVersionItem</H3>
<PRE>
protected <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version">InternalVersionItem</A> <B>createInternalVersionItem</B>(<A HREF="../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</A>&nbsp;id)
                                                 throws <A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Creates an <A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionItem.html" title="interface in org.apache.jackrabbit.core.version"><CODE>InternalVersionItem</CODE></A> based on the <A HREF="../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state"><CODE>NodeState</CODE></A>
 identified by <code>id</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the node id of the version item.
<DT><B>Returns:</B><DD>the version item or <code>null</code> if there is no node state
         with the given <code>id</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs while reading from the
                             version storage.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/InternalVersionManagerImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManager.html" title="interface in org.apache.jackrabbit.core.version"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/version/InternalVersionManagerImpl.DynamicESCFactory.html" title="class in org.apache.jackrabbit.core.version"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/jackrabbit/core/version/InternalVersionManagerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="InternalVersionManagerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2004-2010 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
