<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_12) on Wed Apr 18 22:52:51 EEST 2007 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
CachingHierarchyManager (Apache Jackrabbit 1.2.1 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.jackrabbit.core.CachingHierarchyManager class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="CachingHierarchyManager (Apache Jackrabbit 1.2.1 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CachingHierarchyManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/jackrabbit/core/BatchedItemOperations.html" title="class in org.apache.jackrabbit.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CachingHierarchyManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.jackrabbit.core</FONT>
<BR>
Class CachingHierarchyManager</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">org.apache.jackrabbit.core.HierarchyManagerImpl</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>org.apache.jackrabbit.core.CachingHierarchyManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/apache/jackrabbit/core/util/Dumpable.html" title="interface in org.apache.jackrabbit.core.util">Dumpable</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A>, <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A>, <A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>CachingHierarchyManager</B><DT>extends <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A><DT>implements <A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A>, <A HREF="../../../../org/apache/jackrabbit/core/util/Dumpable.html" title="interface in org.apache.jackrabbit.core.util">Dumpable</A></DL>

<P>
Implementation of a <code>HierarchyManager</code> that caches paths of
 items.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#DEFAULT_UPPER_LIMIT">DEFAULT_UPPER_LIMIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default upper limit of cached states</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.jackrabbit.core.HierarchyManagerImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.apache.jackrabbit.core.<A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#nsResolver">nsResolver</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#provider">provider</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#rootNodeId">rootNodeId</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#CachingHierarchyManager(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.state.ItemStateManager, org.apache.jackrabbit.name.NamespaceResolver)">CachingHierarchyManager</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;rootNodeId,
                        <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A>&nbsp;provider,
                        <A HREF="../../../../org/apache/jackrabbit/name/NamespaceResolver.html" title="interface in org.apache.jackrabbit.name">NamespaceResolver</A>&nbsp;nsResolver)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new instance of this class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#buildPath(org.apache.jackrabbit.name.Path.PathBuilder, org.apache.jackrabbit.core.state.ItemState)">buildPath</A></B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.PathBuilder.html" title="class in org.apache.jackrabbit.name">Path.PathBuilder</A>&nbsp;builder,
          <A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the path element of an item id to the path currently being built.
 Recursively invoked method that may be overridden by some subclass to
 either return cached responses or add response to cache. On exit,
 <code>builder</code> contains the path of <code>state</code>.
 <p/>
 Overridden method tries to find a mapping for the intermediate item
 <code>state</code> and add its path elements to the builder currently
 being used. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#dump(java.io.PrintStream)">dump</A></B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/io/PrintStream.html" title="class or interface in java.io">PrintStream</A>&nbsp;ps)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dump contents of path map and elements included to <code>PrintStream</code> given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#getDepth(org.apache.jackrabbit.core.ItemId)">getDepth</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the depth of the specified item which is equivalent to
 <code>getPath(id).getAncestorCount()</code>. The depth reflects the
 absolute hierarchy level.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#getName(org.apache.jackrabbit.core.ItemId)">getName</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the specified item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#getPath(org.apache.jackrabbit.core.ItemId)">getPath</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the path to the given item.
 <p/>
 Overridden method simply checks whether we have an item matching the id
 and returns its path, otherwise calls base implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#isAncestor(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.ItemId)">isAncestor</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;nodeId,
           <A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;itemId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether the node with the specified <code>nodeId</code>
 is an ancestor of the item denoted by the given <code>itemId</code>.
 This is equivalent to
 <code>getPath(nodeId).isAncestorOf(getPath(itemId))</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#nodeAdded(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)">nodeAdded</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state,
          <A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;name,
          int&nbsp;index,
          <A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when a child node has been added</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#nodeModified(org.apache.jackrabbit.core.state.NodeState)">nodeModified</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;modified)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when a node has been modified, typically as a result of removal
 or addition of a child node.
 <p/>
 Please note, that this method is not called if 
 <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)"><CODE>ItemStateListener.stateModified(ItemState)</CODE></A> was called.

 Evict moved or renamed items from the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#nodeRemoved(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)">nodeRemoved</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state,
            <A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;name,
            int&nbsp;index,
            <A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when a child node has been removed</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#nodesReplaced(org.apache.jackrabbit.core.state.NodeState)">nodesReplaced</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when the children nodes were replaced by other nodes, typically
 as result of a reorder operation.
 <p/>
 Generate subsequent add and remove notifications for every replacement. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#resolvePath(org.apache.jackrabbit.name.Path)">resolvePath</A></B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A>&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resolves a path into an item id.
 <p/>
 Note that, for performance reasons, this method returns <code>null</code>
 rather than throwing a <code>PathNotFoundException</code> if there's no
 item to be found at <code>path</code>.
 <p/>
 Check the path indicated inside our cache first.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#resolvePath(org.apache.jackrabbit.name.Path, org.apache.jackrabbit.core.state.ItemState, int)">resolvePath</A></B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A>&nbsp;path,
            <A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state,
            int&nbsp;next)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resolve a path into an item id. Recursively invoked method that may be
 overridden by some subclass to either return cached responses or add
 response to cache.
 <p/>
 Cache the intermediate item inside our cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/jackrabbit/core/CachingHierarchyManager.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.jackrabbit.core.HierarchyManagerImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.jackrabbit.core.<A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getChildNodeEntry(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.core.NodeId)">getChildNodeEntry</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getChildNodeEntry(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int)">getChildNodeEntry</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getItemState(org.apache.jackrabbit.core.ItemId)">getItemState</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getNamespaceResolver()">getNamespaceResolver</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getParentId(org.apache.jackrabbit.core.state.ItemState)">getParentId</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getRelativeDepth(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.ItemId)">getRelativeDepth</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getRootNodeId()">getRootNodeId</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#hasItemState(org.apache.jackrabbit.core.ItemId)">hasItemState</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#resolvePath(org.apache.jackrabbit.name.Path, org.apache.jackrabbit.core.ItemId, int)">resolvePath</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#safeGetJCRPath(org.apache.jackrabbit.core.ItemId)">safeGetJCRPath</A>, <A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#safeGetJCRPath(org.apache.jackrabbit.name.Path)">safeGetJCRPath</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="DEFAULT_UPPER_LIMIT"><!-- --></A><H3>
DEFAULT_UPPER_LIMIT</H3>
<PRE>
public static final int <B>DEFAULT_UPPER_LIMIT</B></PRE>
<DL>
<DD>Default upper limit of cached states
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.apache.jackrabbit.core.CachingHierarchyManager.DEFAULT_UPPER_LIMIT">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CachingHierarchyManager(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.state.ItemStateManager, org.apache.jackrabbit.name.NamespaceResolver)"><!-- --></A><H3>
CachingHierarchyManager</H3>
<PRE>
public <B>CachingHierarchyManager</B>(<A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;rootNodeId,
                               <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateManager.html" title="interface in org.apache.jackrabbit.core.state">ItemStateManager</A>&nbsp;provider,
                               <A HREF="../../../../org/apache/jackrabbit/name/NamespaceResolver.html" title="interface in org.apache.jackrabbit.name">NamespaceResolver</A>&nbsp;nsResolver)</PRE>
<DL>
<DD>Create a new instance of this class.
<P>
<DT><B>Parameters:</B><DD><CODE>rootNodeId</CODE> - root node id<DD><CODE>provider</CODE> - item state manager<DD><CODE>nsResolver</CODE> - namespace resolver</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="resolvePath(org.apache.jackrabbit.name.Path, org.apache.jackrabbit.core.state.ItemState, int)"><!-- --></A><H3>
resolvePath</H3>
<PRE>
protected <A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A> <B>resolvePath</B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A>&nbsp;path,
                             <A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state,
                             int&nbsp;next)
                      throws <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></PRE>
<DL>
<DD>Resolve a path into an item id. Recursively invoked method that may be
 overridden by some subclass to either return cached responses or add
 response to cache.
 <p/>
 Cache the intermediate item inside our cache.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#resolvePath(org.apache.jackrabbit.name.Path, org.apache.jackrabbit.core.state.ItemState, int)">resolvePath</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - full path of item to resolve<DD><CODE>state</CODE> - intermediate state<DD><CODE>next</CODE> - next path element index to resolve
<DT><B>Returns:</B><DD>the id of the item denoted by <code>path</code> or
         <code>null</code> if no item exists at <code>path</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="buildPath(org.apache.jackrabbit.name.Path.PathBuilder, org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
buildPath</H3>
<PRE>
protected void <B>buildPath</B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.PathBuilder.html" title="class in org.apache.jackrabbit.name">Path.PathBuilder</A>&nbsp;builder,
                         <A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;state)
                  throws <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A>,
                         <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Adds the path element of an item id to the path currently being built.
 Recursively invoked method that may be overridden by some subclass to
 either return cached responses or add response to cache. On exit,
 <code>builder</code> contains the path of <code>state</code>.
 <p/>
 Overridden method tries to find a mapping for the intermediate item
 <code>state</code> and add its path elements to the builder currently
 being used. If no mapping is found, the item is cached instead after
 the base implementation has been invoked.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#buildPath(org.apache.jackrabbit.name.Path.PathBuilder, org.apache.jackrabbit.core.state.ItemState)">buildPath</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>builder</CODE> - builder currently being used<DD><CODE>state</CODE> - item to find path of
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="resolvePath(org.apache.jackrabbit.name.Path)"><!-- --></A><H3>
resolvePath</H3>
<PRE>
public <A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A> <B>resolvePath</B>(<A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A>&nbsp;path)
                   throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Resolves a path into an item id.
 <p/>
 Note that, for performance reasons, this method returns <code>null</code>
 rather than throwing a <code>PathNotFoundException</code> if there's no
 item to be found at <code>path</code>.
 <p/>
 Check the path indicated inside our cache first.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html#resolvePath(org.apache.jackrabbit.name.Path)">resolvePath</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#resolvePath(org.apache.jackrabbit.name.Path)">resolvePath</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPath(org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
getPath</H3>
<PRE>
public <A HREF="../../../../org/apache/jackrabbit/name/Path.html" title="class in org.apache.jackrabbit.name">Path</A> <B>getPath</B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)
             throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A>,
                    <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the path to the given item.
 <p/>
 Overridden method simply checks whether we have an item matching the id
 and returns its path, otherwise calls base implementation.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html#getPath(org.apache.jackrabbit.core.ItemId)">getPath</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getPath(org.apache.jackrabbit.core.ItemId)">getPath</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getName(org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
getName</H3>
<PRE>
public <A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A> <B>getName</B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)
              throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A>,
                     <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the name of the specified item.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html#getName(org.apache.jackrabbit.core.ItemId)">getName</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getName(org.apache.jackrabbit.core.ItemId)">getName</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDepth(org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
getDepth</H3>
<PRE>
public int <B>getDepth</B>(<A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;id)
             throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A>,
                    <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the depth of the specified item which is equivalent to
 <code>getPath(id).getAncestorCount()</code>. The depth reflects the
 absolute hierarchy level.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html#getDepth(org.apache.jackrabbit.core.ItemId)">getDepth</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#getDepth(org.apache.jackrabbit.core.ItemId)">getDepth</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isAncestor(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.ItemId)"><!-- --></A><H3>
isAncestor</H3>
<PRE>
public boolean <B>isAncestor</B>(<A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;nodeId,
                          <A HREF="../../../../org/apache/jackrabbit/core/ItemId.html" title="class in org.apache.jackrabbit.core">ItemId</A>&nbsp;itemId)
                   throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A>,
                          <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Determines whether the node with the specified <code>nodeId</code>
 is an ancestor of the item denoted by the given <code>itemId</code>.
 This is equivalent to
 <code>getPath(nodeId).isAncestorOf(getPath(itemId))</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html#isAncestor(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.ItemId)">isAncestor</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManager.html" title="interface in org.apache.jackrabbit.core">HierarchyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html#isAncestor(org.apache.jackrabbit.core.NodeId, org.apache.jackrabbit.core.ItemId)">isAncestor</A></CODE> in class <CODE><A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core">HierarchyManagerImpl</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/ItemNotFoundException.html" title="class or interface in javax.jcr">ItemNotFoundException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="stateCreated(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateCreated</H3>
<PRE>
public void <B>stateCreated</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;created)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been created (i.e. its underlying persistent state was created).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateCreated(org.apache.jackrabbit.core.state.ItemState)">stateCreated</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>created</CODE> - the <code>ItemState</code> that has been 'created'</DL>
</DD>
</DL>
<HR>

<A NAME="stateModified(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateModified</H3>
<PRE>
public void <B>stateModified</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;modified)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully
 been modified (i.e. its underlying persistent state has changed).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)">stateModified</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>modified</CODE> - the <code>ItemState</code> that has been 'modified'</DL>
</DD>
</DL>
<HR>

<A NAME="nodeModified(org.apache.jackrabbit.core.state.NodeState)"><!-- --></A><H3>
nodeModified</H3>
<PRE>
public void <B>nodeModified</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;modified)</PRE>
<DL>
<DD>Called when a node has been modified, typically as a result of removal
 or addition of a child node.
 <p/>
 Please note, that this method is not called if 
 <A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateModified(org.apache.jackrabbit.core.state.ItemState)"><CODE>ItemStateListener.stateModified(ItemState)</CODE></A> was called.

 Evict moved or renamed items from the cache.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html#nodeModified(org.apache.jackrabbit.core.state.NodeState)">nodeModified</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>modified</CODE> - node state that changed</DL>
</DD>
</DL>
<HR>

<A NAME="stateDestroyed(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDestroyed</H3>
<PRE>
public void <B>stateDestroyed</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;destroyed)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has successfully been
 removed (i.e. its underlying persistent state has been destroyed).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDestroyed(org.apache.jackrabbit.core.state.ItemState)">stateDestroyed</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>destroyed</CODE> - the <code>ItemState</code> that has been 'destroyed'</DL>
</DD>
</DL>
<HR>

<A NAME="stateDiscarded(org.apache.jackrabbit.core.state.ItemState)"><!-- --></A><H3>
stateDiscarded</H3>
<PRE>
public void <B>stateDiscarded</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html" title="class in org.apache.jackrabbit.core.state">ItemState</A>&nbsp;discarded)</PRE>
<DL>
<DD>Called when an <code>ItemState</code> has been discarded (i.e. it has
 been rendered 'invalid').
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html#stateDiscarded(org.apache.jackrabbit.core.state.ItemState)">stateDiscarded</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/ItemStateListener.html" title="interface in org.apache.jackrabbit.core.state">ItemStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>discarded</CODE> - the <code>ItemState</code> that has been discarded<DT><B>See Also:</B><DD><A HREF="../../../../org/apache/jackrabbit/core/state/ItemState.html#discard()"><CODE>ItemState.discard()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="nodeAdded(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)"><!-- --></A><H3>
nodeAdded</H3>
<PRE>
public void <B>nodeAdded</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state,
                      <A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;name,
                      int&nbsp;index,
                      <A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)</PRE>
<DL>
<DD>Called when a child node has been added
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html#nodeAdded(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)">nodeAdded</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - node state that changed<DD><CODE>name</CODE> - name of node that was added<DD><CODE>index</CODE> - index of new node<DD><CODE>id</CODE> - id of new node</DL>
</DD>
</DL>
<HR>

<A NAME="nodesReplaced(org.apache.jackrabbit.core.state.NodeState)"><!-- --></A><H3>
nodesReplaced</H3>
<PRE>
public void <B>nodesReplaced</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state)</PRE>
<DL>
<DD>Called when the children nodes were replaced by other nodes, typically
 as result of a reorder operation.
 <p/>
 Generate subsequent add and remove notifications for every replacement. This method
 currently assumes that the reordering is detectable by comparing the state's child
 node entries to the overlayed state's child node entries. It is not able to handle
 a transient reordering and will therefore evict its cached entry if such a situation
 is detected.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html#nodesReplaced(org.apache.jackrabbit.core.state.NodeState)">nodesReplaced</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - node state that changed</DL>
</DD>
</DL>
<HR>

<A NAME="nodeRemoved(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)"><!-- --></A><H3>
nodeRemoved</H3>
<PRE>
public void <B>nodeRemoved</B>(<A HREF="../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</A>&nbsp;state,
                        <A HREF="../../../../org/apache/jackrabbit/name/QName.html" title="class in org.apache.jackrabbit.name">QName</A>&nbsp;name,
                        int&nbsp;index,
                        <A HREF="../../../../org/apache/jackrabbit/core/NodeId.html" title="class in org.apache.jackrabbit.core">NodeId</A>&nbsp;id)</PRE>
<DL>
<DD>Called when a child node has been removed
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html#nodeRemoved(org.apache.jackrabbit.core.state.NodeState, org.apache.jackrabbit.name.QName, int, org.apache.jackrabbit.core.NodeId)">nodeRemoved</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/state/NodeStateListener.html" title="interface in org.apache.jackrabbit.core.state">NodeStateListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - node state that changed<DD><CODE>name</CODE> - name of node that was removed<DD><CODE>index</CODE> - index of removed node<DD><CODE>id</CODE> - id of removed node</DL>
</DD>
</DL>
<HR>

<A NAME="dump(java.io.PrintStream)"><!-- --></A><H3>
dump</H3>
<PRE>
public void <B>dump</B>(<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/io/PrintStream.html" title="class or interface in java.io">PrintStream</A>&nbsp;ps)</PRE>
<DL>
<DD>Dump contents of path map and elements included to <code>PrintStream</code> given.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/jackrabbit/core/util/Dumpable.html#dump(java.io.PrintStream)">dump</A></CODE> in interface <CODE><A HREF="../../../../org/apache/jackrabbit/core/util/Dumpable.html" title="interface in org.apache.jackrabbit.core.util">Dumpable</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ps</CODE> - print stream to dump to</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CachingHierarchyManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/jackrabbit/core/BatchedItemOperations.html" title="class in org.apache.jackrabbit.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/jackrabbit/core/HierarchyManagerImpl.html" title="class in org.apache.jackrabbit.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CachingHierarchyManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2004-2007 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
