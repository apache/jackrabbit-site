
<!-- 
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE- 2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License. 
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
    <TITLE>Jackrabbit SPI</TITLE>
    <LINK type="text/css" rel="stylesheet" href="http://jackrabbit.apache.org/style/site.css">
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY>
    <DIV id="page">
      <DIV id="header">
        <P id="jcr"><A href="http://jackrabbit.apache.org/"><IMG src="http://jackrabbit.apache.org/style/jlogo.gif" alt="Apache Jackrabbit" height="100" width="336"></A></P>
        <P id="asf"><A href="http://www.apache.org/"><IMG src="http://jackrabbit.apache.org/style/asf-logo.gif" alt="Apache Software Foundation" height="100" width="387"></A></P>
      </DIV>
      <DIV id="body">
        <DIV id="navigation">
  <UL>
	<LI>Apache Jackrabbit
	<UL>
		<LI><A href="welcome-to-apache-jackrabbit.html" title="Welcome to Apache Jackrabbit">Welcome</A></LI>
		<LI><A href="downloads.html" title="Downloads">Downloads</A></LI>
		<LI><A href="frequently-asked-questions.html" title="Frequently Asked Questions">FAQ</A></LI>
		<LI><A href="http://wiki.apache.org/jackrabbit/FrontPage" class="external-link">Jackrabbit Wiki</A></LI>
		<LI><A href="jackrabbit-history.html" title="Jackrabbit History">Jackrabbit History</A></LI>
	</UL>
	</LI>
	<LI>Documentation
	<UL>
		<LI><A href="getting-started-with-apache-jackrabbit.html" title="Getting Started with Apache Jackrabbit">Getting Started</A></LI>
		<LI><A href="standalone-server.html" title="Standalone Server">Standalone Server</A></LI>
		<LI><A href="jackrabbit-components.html" title="Jackrabbit Components">Jackrabbit Components</A></LI>
		<LI><A href="first-hops.html" title="First Hops">First Hops</A></LI>
		<LI><A href="jcr-api.html" title="JCR & API">JCR &amp; API</A></LI>
		<LI><A href="jackrabbit-architecture.html" title="Jackrabbit Architecture">Jackrabbit Architecture</A></LI>
		<LI><A href="deployment-models.html" title="Deployment Models">Deployment Models</A></LI>
		<LI><A href="jackrabbit-configuration.html" title="Jackrabbit Configuration">Jackrabbit Configuration</A></LI>
		<LI><A href="node-types.html" title="Node Types">Node Types</A></LI>
		<LI><A href="object-content-mapping.html" title="Object Content Mapping">Object Content Mapping</A></LI>
	</UL>
	</LI>
	<LI>Development
	<UL>
		<LI><A href="jackrabbit-team.html" title="Jackrabbit Team">Jackrabbit Team</A></LI>
		<LI><A href="jackrabbit-roadmap.html" title="Jackrabbit Roadmap">Jackrabbit Roadmap</A></LI>
		<LI><A href="building-jackrabbit.html" title="Building Jackrabbit">Building Jackrabbit</A></LI>
		<LI><A href="mailing-lists.html" title="Mailing Lists">Mailing Lists</A></LI>
		<LI><A href="issue-tracker.html" title="Issue Tracker">Issue Tracker</A></LI>
		<LI><A href="source-repository.html" title="Source Repository">Source Repository</A></LI>
		<LI><A href="continuous-integration.html" title="Continuous Integration">Continuous Integration</A></LI>
		<LI><A href="website.html" title="Website">Website</A></LI>
		<LI><A href="creating-releases.html" title="Creating Releases">Creating Releases</A></LI>
		<LI><A href="supporting-software-attribution.html" title="Supporting software attribution">Attribution</A></LI>
	</UL>
	</LI>
	<LI>Apache Software Foundation
	<UL>
		<LI><A href="http://www.apache.org/foundation/how-it-works.html" class="external-link">Introduction</A></LI>
		<LI><A href="http://www.apache.org/foundation/sponsorship.html" class="external-link">Sponsorship</A></LI>
		<LI><A href="http://www.apache.org/foundation/thanks.html" class="external-link">Current Sponsors</A></LI>
	</UL>
	</LI>
</UL>
        </DIV>
        <DIV id="content">
          <H1>Jackrabbit SPI</H1>
  <P>This is the SPI component of the Apache Jackrabbit project. The SPI enables a separation between transient and persistent components of the JCR repository. The transient component (&quot;repository client&quot;) is implemented on top of the persistent component (&quot;repository server&quot;) as a consumer of the SPI and, in turn, exposes the JCR API to the application. The SPI is not intended to be used by the application directly.</P>

<P><SPAN class="image-wrap" style=""><IMG src="jackrabbit-spi.data/jackrabbit-spi.jpg" style="border: 0px solid black"></SPAN></P>

<H3><A name="JackrabbitSPI-PrimaryGoals"></A>Primary Goals</H3>

<P>The Primary goals of the SPI approach are to define support for client-server architecture and to ease the implementation of the JCR API.</P>

<P><B>Client-Server architecture</B></P>

<P>The SPI provides a natural division between the client and server components of a remote JCR repository. The SPI is designed with this usage in mind, enabling an implementation to minimize network traffic. The SPI lends itself to protocol mappings to protocols like WebDAV, SOAP or others in a straightforward yet meaningful way.</P>

<P><B>Implementation Support</B></P>

<P>Introducing the SPI can simplify the implementation of JCR on top of an existing repository by reducing the task to one of implementing the SPI. Such an implementation might then rely on a generic transient layer (such as e.g. <A href="jackrabbit-jcr-to-spi.html" title="Jackrabbit JCR to SPI">Jackrabbit JCR to SPI</A>) to provide the JCR API.</P>

<H3><A name="JackrabbitSPI-ArchitectureandDesignOverview"></A>Architecture and Design Overview</H3>

<P>The specific functions exposed by the SPI are:</P>
<UL>
	<LI>Reading from and writing to the persistent storage.</LI>
	<LI>Authentication</LI>
	<LI>Access control</LI>
	<LI>Locking</LI>
	<LI>Query</LI>
	<LI>Versioning</LI>
	<LI>Direct to workspace XML import</LI>
	<LI>Storage of the central namespace registry</LI>
	<LI>Node type management, enforcement of constraints as well as definition storage.</LI>
</UL>


<P>Therefore SPI designs a set of interfaces and methods needed to expose the functionality of the persistent layer of a compliant JCR repository. The main interfaces of the SPI are <EM>RepositoryService</EM> and <EM>Batch</EM>.</P>

<P>The <EM>RepositoryService</EM>interface defines the methods used to retrieve information from the persistent layer. In addition it contains the methods that affect the persistent state of the repository.</P>

<P>The <EM>Batch</EM> is an interface to an ordered list of primitive operations against the persistent layer. The <EM>Batch</EM> is then submitted to the <EM>RepositoryService</EM> to make the specified sequence of changes.</P>

<P>In addition the SPI defines interfaces for internal representations of JCR name, JCR nath and Item identifiers. The SPI itself only uses names and paths in their fully qualified.</P>

<H3><A name="JackrabbitSPI-ExistingImplementations"></A>Existing Implementations</H3>

<P>The Jackrabbit project currently provides a single SPI implementation:</P>
<UL>
	<LI><A href="jackrabbit-spi-to-jcr.html" title="Jackrabbit SPI to JCR">Jackrabbit SPI to JCR</A>: An implementation of the SPI interfaces wrapping an implementation of the JCR API such as e.g. Jackrabbit Core.</LI>
</UL>


<P>Other SPI implementations can be found in the <EM>sandbox</EM> folder of the Jackrabbit project.</P>
<UL>
	<LI><B>SPI to WebDAV</B>: SPI implementation on top of WebDAV connecting to a <A href="jackrabbit-jcr-server.html" title="Jackrabbit JCR Server">Jackrabbit JCR Server</A>.</LI>
	<LI><B>SPI-RMI</B>: A RMI layer.used to remote any SPI implementation. While <A href="jackrabbit-spi-to-jcr.html" title="Jackrabbit SPI to JCR">Jackrabbit SPI to JCR</A> and <EM>SPI to WebDAV</EM> really are repository implementations, the <EM>SPI-RMI</EM> is rather a 'repeater' for SPI calls using RMI.</LI>
	<LI><B>SPI Logger</B>: Utility implementation to log SPI usage.</LI>
</UL>


<P>See the image below for a overview over existing and planned SPI implementations.</P>

<P><SPAN class="image-wrap" style=""><IMG src="jackrabbit-spi.data/jackrabbit-spi-overview.gif" style="border: 0px solid black"></SPAN></P>
        </DIV>
        <DIV id="end"></DIV>
      </DIV>
      <DIV id="footer">
        <P>
          &copy; 2004-2010 The Apache Software Foundation.
          - <A href="http://jackrabbit.apache.org/privacy-policy.html">Privacy Policy</A> -
          [<A href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=75208">edit this page</A>]
          <BR>
          Apache Jackrabbit, Jackrabbit, Apache, the Apache feather logo, and the Apache
          Jackrabbit project logo are trademarks of The Apache Software Foundation.
        </P>
      </DIV>
    </DIV>
<!-- JCR- 1315: Add Google Analytics to Jackrabbit web site -->
<SCRIPT type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</SCRIPT>
<SCRIPT type="text/javascript">
var pageTracker = _gat._getTracker("UA-837900-2");
pageTracker._initData();
pageTracker._trackPageview();
</SCRIPT>
  </BODY>
</HTML>
