<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_07) on Wed Sep 02 13:23:52 CEST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
XALockManager (Apache Jackrabbit 1.6.0 API)
</TITLE>

<META NAME="date" CONTENT="2009-09-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XALockManager (Apache Jackrabbit 1.6.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/XALockManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/lock/SessionLockManager.html" title="class in org.apache.jackrabbit.core.lock"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/jackrabbit/core/lock/XALockManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XALockManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.jackrabbit.core.lock</FONT>
<BR>
Class XALockManager</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.jackrabbit.core.lock.XALockManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A>, <A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>XALockManager</B><DT>extends <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A>, <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></DL>
</PRE>

<P>
Session-local lock manager that implements the semantical changes inside
 transactions. This manager validates lock/unlock operations inside its
 view of the locking space.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#XALockManager(org.apache.jackrabbit.core.lock.LockManagerImpl)">XALockManager</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManagerImpl.html" title="class in org.apache.jackrabbit.core.lock">LockManagerImpl</A>&nbsp;lockMgr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new instance of this class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked after one of the <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</CODE></A>, <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</CODE></A> or
 <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</CODE></A> method has been called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Associate this resource with a transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked before one of the <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</CODE></A>, <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</CODE></A> or
 <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</CODE></A> method is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#checkLock(org.apache.jackrabbit.core.NodeImpl)">checkLock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check whether the node given is locked by somebody else than the
 current session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)">checkLock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/spi/Path.html" title="interface in org.apache.jackrabbit.spi">Path</A>&nbsp;path,
          <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check whether the path given is locked by somebody else than the
 session described.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#differentXAEnv(org.apache.jackrabbit.core.lock.AbstractLockInfo)">differentXAEnv</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/lock/AbstractLockInfo.html" title="class in org.apache.jackrabbit.core.lock">AbstractLockInfo</A>&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a flag indicating whether a lock info belongs to a different
 XA environment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#getLock(org.apache.jackrabbit.core.NodeImpl)">getLock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the Lock object that applies to a node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#getLocks(org.apache.jackrabbit.core.SessionImpl)">getLocks</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all locks owned by the specified session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#holdsLock(org.apache.jackrabbit.core.NodeImpl)">holdsLock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the node given holds a lock;
 otherwise returns <code>false</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#isLocked(org.apache.jackrabbit.core.NodeImpl)">isLocked</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#isLockHolder(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)">isLockHolder</A></B>(<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
             <A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the specified session holds a lock on the
 given node; otherwise returns <code>false</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)">lock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node,
     boolean&nbsp;isDeep,
     boolean&nbsp;isSessionScoped)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lock a node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">lock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node,
     boolean&nbsp;isDeep,
     boolean&nbsp;isSessionScoped,
     long&nbsp;timoutHint,
     <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ownerInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lock a node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lockTokenAdded(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">lockTokenAdded</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session,
               <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked by a session to inform that a lock token has been added.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lockTokenRemoved(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">lockTokenRemoved</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session,
                 <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked by a session to inform that a lock token has been removed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prepare transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rollback transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#unlock(org.apache.jackrabbit.core.NodeImpl)">unlock</A></B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the lock on a node given by its path.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="XALockManager(org.apache.jackrabbit.core.lock.LockManagerImpl)"><!-- --></A><H3>
XALockManager</H3>
<PRE>
public <B>XALockManager</B>(<A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManagerImpl.html" title="class in org.apache.jackrabbit.core.lock">LockManagerImpl</A>&nbsp;lockMgr)</PRE>
<DL>
<DD>Create a new instance of this class.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>lockMgr</CODE> - lockMgr global lock manager</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)"><!-- --></A><H3>
lock</H3>
<PRE>
public <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A> <B>lock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node,
                 boolean&nbsp;isDeep,
                 boolean&nbsp;isSessionScoped)
          throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                 <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Lock a node. Checks whether the node is not locked and then
 returns a lock object for this node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)">lock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node<DD><CODE>isDeep</CODE> - whether the lock applies to this node only<DD><CODE>isSessionScoped</CODE> - whether the lock is session scoped
<DT><B>Returns:</B><DD>lock object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if this node already is locked, or some descendant
         node is locked and <code>isDeep</code> is <code>true</code>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Node.html?is-external=true#lock(boolean, boolean)" title="class or interface in javax.jcr"><CODE>Node.lock(boolean, boolean)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)"><!-- --></A><H3>
lock</H3>
<PRE>
public <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A> <B>lock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node,
                 boolean&nbsp;isDeep,
                 boolean&nbsp;isSessionScoped,
                 long&nbsp;timoutHint,
                 <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ownerInfo)
          throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                 <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">LockManager</A></CODE></B></DD>
<DD>Lock a node. Checks whether the node is not locked and then
 returns a lock object for this node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">lock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - Node to create the lock for.<DD><CODE>isDeep</CODE> - whether the lock applies to this node only<DD><CODE>isSessionScoped</CODE> - whether the lock is session scoped<DD><CODE>timoutHint</CODE> - Desired lock timeout in seconds.<DD><CODE>ownerInfo</CODE> - Optional string acting as information about the owner.
<DT><B>Returns:</B><DD>the lock.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if this node already is locked, or some descendant
         node is locked and <code>isDeep</code> is <code>true</code>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)"><CODE>LockManager.lock(NodeImpl, boolean, boolean, long, String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLock(org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
getLock</H3>
<PRE>
public <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A> <B>getLock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
             throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                    <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns the Lock object that applies to a node. This may be either a lock
 on this node itself or a deep lock on a node above this node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#getLock(org.apache.jackrabbit.core.NodeImpl)">getLock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node
<DT><B>Returns:</B><DD>lock object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if this node is not locked
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Node.html?is-external=true#getLock()" title="class or interface in javax.jcr"><CODE>Node.getLock()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLocks(org.apache.jackrabbit.core.SessionImpl)"><!-- --></A><H3>
getLocks</H3>
<PRE>
public <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</A>[] <B>getLocks</B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session)
                throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns all locks owned by the specified session.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#getLocks(org.apache.jackrabbit.core.SessionImpl)">getLocks</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - session
<DT><B>Returns:</B><DD>an array of lock objects
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if an error occurs<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html#getLocks()"><CODE>SessionImpl.getLocks()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="unlock(org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
unlock</H3>
<PRE>
public void <B>unlock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
            throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                   <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Removes the lock on a node given by its path.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#unlock(org.apache.jackrabbit.core.NodeImpl)">unlock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if this node is not locked or the session
         does not have the correct lock token
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Node.html?is-external=true#unlock()" title="class or interface in javax.jcr"><CODE>Node.unlock()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="holdsLock(org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
holdsLock</H3>
<PRE>
public boolean <B>holdsLock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
                  throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns <code>true</code> if the node given holds a lock;
 otherwise returns <code>false</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#holdsLock(org.apache.jackrabbit.core.NodeImpl)">holdsLock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node
<DT><B>Returns:</B><DD><code>true</code> if the node given holds a lock;
         otherwise returns <code>false</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - If an exception occurs.<DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Node.html?is-external=true#holdsLock()" title="class or interface in javax.jcr"><CODE>Node.holdsLock()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isLockHolder(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
isLockHolder</H3>
<PRE>
public boolean <B>isLockHolder</B>(<A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session,
                            <A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
                     throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns <code>true</code> if the specified session holds a lock on the
 given node; otherwise returns <code>false</code>.
 <p/>
 Note that <code>isLockHolder(session, node)==true</code> implies
 <code>holdsLock(node)==true</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#isLockHolder(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)">isLockHolder</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - session<DD><CODE>node</CODE> - node
<DT><B>Returns:</B><DD>if the specified session holds a lock on the given node;
         otherwise returns <code>false</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - If an exception occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="isLocked(org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
isLocked</H3>
<PRE>
public boolean <B>isLocked</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
                 throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Returns <code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#isLocked(org.apache.jackrabbit.core.NodeImpl)">isLocked</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node
<DT><B>Returns:</B><DD><code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - If an exception occurs.<DT><B>See Also:</B><DD><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Node.html?is-external=true#isLocked()" title="class or interface in javax.jcr"><CODE>Node.isLocked()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="checkLock(org.apache.jackrabbit.core.NodeImpl)"><!-- --></A><H3>
checkLock</H3>
<PRE>
public void <B>checkLock</B>(<A HREF="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</A>&nbsp;node)
               throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                      <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Check whether the node given is locked by somebody else than the
 current session. Access is allowed if the node is not locked or
 if the session itself holds the lock to this node, i.e. the session
 contains the lock token for the lock.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#checkLock(org.apache.jackrabbit.core.NodeImpl)">checkLock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - node to check
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if write access to the specified node is not allowed
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if some other error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)"><!-- --></A><H3>
checkLock</H3>
<PRE>
public void <B>checkLock</B>(<A HREF="../../../../../org/apache/jackrabbit/spi/Path.html" title="interface in org.apache.jackrabbit.spi">Path</A>&nbsp;path,
                      <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</A>&nbsp;session)
               throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A>,
                      <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Check whether the path given is locked by somebody else than the
 session described. Access is allowed if the node is not locked or
 if the session itself holds the lock to this node, i.e. the session
 contains the lock token for the lock.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)">checkLock</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - path to check<DD><CODE>session</CODE> - session
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE> - if write access to the specified path is not allowed
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE> - if some other error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="lockTokenAdded(org.apache.jackrabbit.core.SessionImpl, java.lang.String)"><!-- --></A><H3>
lockTokenAdded</H3>
<PRE>
public void <B>lockTokenAdded</B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session,
                           <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lt)
                    throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Invoked by a session to inform that a lock token has been added.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lockTokenAdded(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">lockTokenAdded</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - session that has a added lock token<DD><CODE>lt</CODE> - added lock token
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="lockTokenRemoved(org.apache.jackrabbit.core.SessionImpl, java.lang.String)"><!-- --></A><H3>
lockTokenRemoved</H3>
<PRE>
public void <B>lockTokenRemoved</B>(<A HREF="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</A>&nbsp;session,
                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lt)
                      throws <A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></PRE>
<DL>
<DD>Invoked by a session to inform that a lock token has been removed.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lockTokenRemoved(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">lockTokenRemoved</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - session that has a removed lock token<DD><CODE>lt</CODE> - removed lock token
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</A></CODE>
<DD><CODE><A HREF="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="associate(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
associate</H3>
<PRE>
public void <B>associate</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</PRE>
<DL>
<DD>Associate this resource with a transaction. All further operations on
 the object should be interpreted as part of this transaction and changes
 recorded in some attribute of the transaction context.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context, if <code>null</code> disassociate</DL>
</DD>
</DL>
<HR>

<A NAME="beforeOperation(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
beforeOperation</H3>
<PRE>
public void <B>beforeOperation</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</PRE>
<DL>
<DD>Invoked before one of the <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</CODE></A>, <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</CODE></A> or
 <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</CODE></A> method is called.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context</DL>
</DD>
</DL>
<HR>

<A NAME="prepare(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
prepare</H3>
<PRE>
public void <B>prepare</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)
             throws <A HREF="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</A></PRE>
<DL>
<DD>Prepare transaction. The transaction is identified by a transaction
 context.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="commit(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
commit</H3>
<PRE>
public void <B>commit</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</PRE>
<DL>
<DD>Commit transaction. The transaction is identified by a transaction
 context. If the method throws, other resources get their changes
 rolled back.
 <p/>
 This will finish the update and unlock the shared lock manager.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context</DL>
</DD>
</DL>
<HR>

<A NAME="rollback(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
rollback</H3>
<PRE>
public void <B>rollback</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</PRE>
<DL>
<DD>Rollback transaction. The transaction is identified by a transaction
 context.
 <p/>
 This will undo all updates and unlock the shared lock manager.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context.</DL>
</DD>
</DL>
<HR>

<A NAME="afterOperation(org.apache.jackrabbit.core.TransactionContext)"><!-- --></A><H3>
afterOperation</H3>
<PRE>
public void <B>afterOperation</B>(<A HREF="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</A>&nbsp;tx)</PRE>
<DL>
<DD>Invoked after one of the <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</CODE></A>, <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</CODE></A> or
 <A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><CODE>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</CODE></A> method has been called.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</A></CODE> in interface <CODE><A HREF="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - transaction context</DL>
</DD>
</DL>
<HR>

<A NAME="differentXAEnv(org.apache.jackrabbit.core.lock.AbstractLockInfo)"><!-- --></A><H3>
differentXAEnv</H3>
<PRE>
public boolean <B>differentXAEnv</B>(<A HREF="../../../../../org/apache/jackrabbit/core/lock/AbstractLockInfo.html" title="class in org.apache.jackrabbit.core.lock">AbstractLockInfo</A>&nbsp;info)</PRE>
<DL>
<DD>Return a flag indicating whether a lock info belongs to a different
 XA environment.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/XALockManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/jackrabbit/core/lock/SessionLockManager.html" title="class in org.apache.jackrabbit.core.lock"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/jackrabbit/core/lock/XALockManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XALockManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2004-2009 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
