<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Tue Feb 21 16:02:01 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>AbstractBundlePersistenceManager (Apache Jackrabbit 2.4.0 API)</title>
<meta name="date" content="2012-02-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractBundlePersistenceManager (Apache Jackrabbit 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractBundlePersistenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" target="_top">Frames</a></li>
<li><a href="AbstractBundlePersistenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.core.persistence.bundle</div>
<h2 title="Class AbstractBundlePersistenceManager" class="title">Class AbstractBundlePersistenceManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/CachingPersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">CachingPersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyChecker.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyChecker</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/IterablePersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">IterablePersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../org/apache/jackrabbit/core/persistence/pool/BundleDbPersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.pool">BundleDbPersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle">BundleFsPersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/mem/InMemBundlePersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.mem">InMemBundlePersistenceManager</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractBundlePersistenceManager</span>
extends <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/CachingPersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">CachingPersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/IterablePersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">IterablePersistenceManager</a>, <a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyChecker.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyChecker</a></pre>
<div class="block">The <code>AbstractBundlePersistenceManager</code> acts as base for all
 persistence managers that store the state in a <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util"><code>NodePropBundle</code></a>.
 <p/>
 The state and all property states of one node are stored together in one
 record. Property values of a certain size can be stored outside of the bundle.
 This currently only works for binary properties. NodeReferences are not
 included in the bundle since they are addressed by the target id.
 <p/>
 Some strings like namespaces and local names are additionally managed by
 separate indexes. only the index number is serialized to the records which
 reduces the amount of memory used.
 <p/>
 Special treatment is performed for the properties "jcr:uuid", "jcr:primaryType"
 and "jcr:mixinTypes". As they are also stored in the node state they are not
 included in the bundle but generated when required.
 <p/>
 In order to increase performance, there are two caches being maintained. One is the
 bundle cache that caches already loaded bundles. The other is the
 <code>LRUNodeIdCache</code> that caches non-existent bundles. This is useful
 because a lot of <a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#exists(org.apache.jackrabbit.core.id.NodeId)"><code>exists(NodeId)</code></a> calls are issued that would result
 in a useless persistence lookup if the desired bundle does not exist.
 <p/>
 Configuration:<br>
 <ul>
 <li>&lt;param name="<a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#setBundleCacheSize(java.lang.String)"><code>bundleCacheSize</code></a>" value="8"/>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#context">context</a></strong></code>
<div class="block">the persistence manager context</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#NODEFILENAME">NODEFILENAME</a></strong></code>
<div class="block">the prefix of a node file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#NODEREFSFILENAME">NODEREFSFILENAME</a></strong></code>
<div class="block">the prefix of a node references file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#RES_NAME_INDEX">RES_NAME_INDEX</a></strong></code>
<div class="block">the name of the names-index resource</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#RES_NS_INDEX">RES_NS_INDEX</a></strong></code>
<div class="block">the name of the namespace-index resource</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.jackrabbit.core.cache.CacheAccessListener">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.jackrabbit.core.cache.<a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#ACCESS_INTERVAL">ACCESS_INTERVAL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#AbstractBundlePersistenceManager()">AbstractBundlePersistenceManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildBlobFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId, int)">buildBlobFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                 <a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id,
                 int&nbsp;i)</code>
<div class="block">Creates the file path for the given property id and value index that is
 suitable for storing property values in a filesystem.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                 <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates the file path for the given node id that is
 suitable for storing node states in a filesystem.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeFolderPath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeFolderPath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                   <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates the folder path for the given node id that is suitable for
 storing states in a filesystem.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildNodeReferencesFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">buildNodeReferencesFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                           <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates the file path for the given references id that is
 suitable for storing reference states in a filesystem.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#buildPropFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId)">buildPropFilePath</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                 <a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</code>
<div class="block">Creates the folder path for the given property id that is suitable for
 storing states in a filesystem.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#cacheAccessed(long)">cacheAccessed</a></strong>(long&nbsp;accessCount)</code>
<div class="block">The cache calls this method after a number of cache accesses.<br>
 
 For statistical purposes, the cache access count since the last call is
 included.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyReport.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyReport</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#check(java.lang.String[], boolean, boolean, java.lang.String)">check</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;uuids,
     boolean&nbsp;recursive,
     boolean&nbsp;fix,
     <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lostNFoundId)</code>
<div class="block">Perform a consistency check of the data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#checkConsistency(java.lang.String[], boolean, boolean)">checkConsistency</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;uuids,
                boolean&nbsp;recursive,
                boolean&nbsp;fix)</code>
<div class="block">Perform a consistency check of the data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#close()">close</a></strong>()</code>
<div class="block">Closes the persistence manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#createNew(org.apache.jackrabbit.core.id.NodeId)">createNew</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Creates a new node state instance with the given id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#createNew(org.apache.jackrabbit.core.id.PropertyId)">createNew</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</code>
<div class="block">Creates a new property state instance with the given id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#destroy(org.apache.jackrabbit.core.state.NodeReferences)">destroy</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)</code>
<div class="block">Deletes the node references from the underlying system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#destroyBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">destroyBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)</code>
<div class="block">Deletes the bundle from the underlying system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#disposeCache(org.apache.jackrabbit.core.cache.Cache)">disposeCache</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/cache/Cache.html" title="interface in org.apache.jackrabbit.core.cache">Cache</a>&nbsp;cache)</code>
<div class="block">Called after the cache is no longer used.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#evictBundle(org.apache.jackrabbit.core.id.NodeId)">evictBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Evicts the bundle with <code>id</code> from the bundle cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#exists(org.apache.jackrabbit.core.id.NodeId)">exists</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Checks whether the identified node exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#exists(org.apache.jackrabbit.core.id.PropertyId)">exists</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</code>
<div class="block">Checks whether the identified property exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.util">BLOBStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getBlobStore()">getBlobStore</a></strong>()</code>
<div class="block">Returns the BLOB store used by this persistence manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getBundleCacheSize()">getBundleCacheSize</a></strong>()</code>
<div class="block">Returns the size of the bundle cache in megabytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/util/StringIndex.html" title="interface in org.apache.jackrabbit.core.util">StringIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getNameIndex()">getNameIndex</a></strong>()</code>
<div class="block">Returns the local name index</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/util/StringIndex.html" title="interface in org.apache.jackrabbit.core.util">StringIndex</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#getNsIndex()">getNsIndex</a></strong>()</code>
<div class="block">Returns the namespace index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#init(org.apache.jackrabbit.core.persistence.PMContext)">init</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a>&nbsp;context)</code>
<div class="block">Initializes the persistence manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#load(org.apache.jackrabbit.core.id.NodeId)">load</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Load the persistent members of a node state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#load(org.apache.jackrabbit.core.id.PropertyId)">load</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</code>
<div class="block">Load the persistent members of a property state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#loadBundle(org.apache.jackrabbit.core.id.NodeId)">loadBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</code>
<div class="block">Loads a bundle from the underlying system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#onExternalUpdate(org.apache.jackrabbit.core.state.ChangeLog)">onExternalUpdate</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changes)</code>
<div class="block">Notifies the persistence manager that an external (cluster) modification
 occurred.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#setBundleCacheSize(java.lang.String)">setBundleCacheSize</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;bundleCacheSize)</code>
<div class="block">Sets the size of the bundle cache in megabytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#store(org.apache.jackrabbit.core.state.ChangeLog)">store</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changeLog)</code>
<div class="block">Right now, this iterates over all items in the changelog and
 calls the individual methods that handle single item states
 or node references objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#store(org.apache.jackrabbit.core.state.NodeReferences)">store</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)</code>
<div class="block">Stores a node references to the underlying system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html#storeBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">storeBundle</a></strong>(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)</code>
<div class="block">Stores a bundle to the underlying system.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.jackrabbit.core.persistence.IterablePersistenceManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.jackrabbit.core.persistence.<a href="../../../../../../org/apache/jackrabbit/core/persistence/IterablePersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">IterablePersistenceManager</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/IterablePersistenceManager.html#getAllNodeIds(org.apache.jackrabbit.core.id.NodeId, int)">getAllNodeIds</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.jackrabbit.core.persistence.PersistenceManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.jackrabbit.core.persistence.<a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></h3>
<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#existsReferencesTo(org.apache.jackrabbit.core.id.NodeId)">existsReferencesTo</a>, <a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#loadReferencesTo(org.apache.jackrabbit.core.id.NodeId)">loadReferencesTo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NODEFILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NODEFILENAME</h4>
<pre>protected static final&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> NODEFILENAME</pre>
<div class="block">the prefix of a node file</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.NODEFILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="NODEREFSFILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NODEREFSFILENAME</h4>
<pre>protected static final&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> NODEREFSFILENAME</pre>
<div class="block">the prefix of a node references file</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.NODEREFSFILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RES_NAME_INDEX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RES_NAME_INDEX</h4>
<pre>protected static final&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> RES_NAME_INDEX</pre>
<div class="block">the name of the names-index resource</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.RES_NAME_INDEX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RES_NS_INDEX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RES_NS_INDEX</h4>
<pre>protected static final&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> RES_NS_INDEX</pre>
<div class="block">the name of the namespace-index resource</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.RES_NS_INDEX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="context">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>context</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a> context</pre>
<div class="block">the persistence manager context</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractBundlePersistenceManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractBundlePersistenceManager</h4>
<pre>public&nbsp;AbstractBundlePersistenceManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBundleCacheSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBundleCacheSize</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getBundleCacheSize()</pre>
<div class="block">Returns the size of the bundle cache in megabytes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the size of the bundle cache in megabytes.</dd></dl>
</li>
</ul>
<a name="setBundleCacheSize(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBundleCacheSize</h4>
<pre>public&nbsp;void&nbsp;setBundleCacheSize(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;bundleCacheSize)</pre>
<div class="block">Sets the size of the bundle cache in megabytes.
 the default is 8.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bundleCacheSize</code> - the bundle cache size in megabytes.</dd></dl>
</li>
</ul>
<a name="buildNodeFolderPath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildNodeFolderPath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildNodeFolderPath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                               <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates the folder path for the given node id that is suitable for
 storing states in a filesystem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the node</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="buildPropFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildPropFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildPropFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                             <a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</pre>
<div class="block">Creates the folder path for the given property id that is suitable for
 storing states in a filesystem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the property</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="buildBlobFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.PropertyId, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildBlobFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildBlobFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                             <a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id,
                             int&nbsp;i)</pre>
<div class="block">Creates the file path for the given property id and value index that is
 suitable for storing property values in a filesystem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the property</dd><dd><code>i</code> - the index of the property value</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="buildNodeFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildNodeFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildNodeFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                             <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates the file path for the given node id that is
 suitable for storing node states in a filesystem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the node</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="buildNodeReferencesFilePath(java.lang.StringBuffer, org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildNodeReferencesFilePath</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buildNodeReferencesFilePath(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuffer.html?is-external=true" title="class or interface in java.lang">StringBuffer</a>&nbsp;buf,
                                       <a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates the file path for the given references id that is
 suitable for storing reference states in a filesystem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buf</code> - buffer to append to or <code>null</code></dd><dd><code>id</code> - the id of the node</dd>
<dt><span class="strong">Returns:</span></dt><dd>the buffer with the appended data.</dd></dl>
</li>
</ul>
<a name="getNsIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNsIndex</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/util/StringIndex.html" title="interface in org.apache.jackrabbit.core.util">StringIndex</a>&nbsp;getNsIndex()</pre>
<div class="block">Returns the namespace index</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the namespace index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if an error occurs.</dd></dl>
</li>
</ul>
<a name="getNameIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameIndex</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/util/StringIndex.html" title="interface in org.apache.jackrabbit.core.util">StringIndex</a>&nbsp;getNameIndex()</pre>
<div class="block">Returns the local name index</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the local name index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if an error occurs.</dd></dl>
</li>
</ul>
<a name="onExternalUpdate(org.apache.jackrabbit.core.state.ChangeLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onExternalUpdate</h4>
<pre>public&nbsp;void&nbsp;onExternalUpdate(<a href="../../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changes)</pre>
<div class="block">Notifies the persistence manager that an external (cluster) modification
 occurred.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/CachingPersistenceManager.html#onExternalUpdate(org.apache.jackrabbit.core.state.ChangeLog)">onExternalUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/CachingPersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">CachingPersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>changes</code> - the set of changes of the external modification.</dd></dl>
</li>
</ul>
<a name="loadBundle(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadBundle</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;loadBundle(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)
                                      throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Loads a bundle from the underlying system.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - the node id of the bundle</dd>
<dt><span class="strong">Returns:</span></dt><dd>the loaded bundle or <code>null</code> if the bundle does not
         exist.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while loading occurs.</dd></dl>
</li>
</ul>
<a name="storeBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeBundle</h4>
<pre>protected abstract&nbsp;void&nbsp;storeBundle(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)
                             throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Stores a bundle to the underlying system.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bundle</code> - the bundle to store</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while storing occurs.</dd></dl>
</li>
</ul>
<a name="destroyBundle(org.apache.jackrabbit.core.persistence.util.NodePropBundle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyBundle</h4>
<pre>protected abstract&nbsp;void&nbsp;destroyBundle(<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/NodePropBundle.html" title="class in org.apache.jackrabbit.core.persistence.util">NodePropBundle</a>&nbsp;bundle)
                               throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Deletes the bundle from the underlying system.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bundle</code> - the bundle to destroy</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while destroying occurs.</dd></dl>
</li>
</ul>
<a name="destroy(org.apache.jackrabbit.core.state.NodeReferences)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>protected abstract&nbsp;void&nbsp;destroy(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)
                         throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Deletes the node references from the underlying system.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>refs</code> - the node references to destroy.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while destroying occurs.</dd></dl>
</li>
</ul>
<a name="store(org.apache.jackrabbit.core.state.NodeReferences)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>protected abstract&nbsp;void&nbsp;store(<a href="../../../../../../org/apache/jackrabbit/core/state/NodeReferences.html" title="class in org.apache.jackrabbit.core.state">NodeReferences</a>&nbsp;refs)
                       throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Stores a node references to the underlying system.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>refs</code> - the node references to store.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if an error while storing occurs.</dd></dl>
</li>
</ul>
<a name="getBlobStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlobStore</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/util/BLOBStore.html" title="interface in org.apache.jackrabbit.core.persistence.util">BLOBStore</a>&nbsp;getBlobStore()</pre>
<div class="block">Returns the BLOB store used by this persistence manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>BLOB store</dd></dl>
</li>
</ul>
<a name="init(org.apache.jackrabbit.core.persistence.PMContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../../../../../org/apache/jackrabbit/core/persistence/PMContext.html" title="class in org.apache.jackrabbit.core.persistence">PMContext</a>&nbsp;context)
          throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Initializes the persistence manager. The persistence manager is
 permanently bound to the given context, and any required external
 resources are acquired.
 <p>
 An appropriate exception is thrown if the persistence manager
 initialization fails for whatever reason. In this case the
 state of the persistence manager is undefined and the instance
 should be discarded.

 Initializes the internal structures of this abstract persistence manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#init(org.apache.jackrabbit.core.persistence.PMContext)">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - persistence manager context</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the persistence manager initialization failed</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Closes the persistence manager. The consistency of the persistent
 storage is guaranteed and all acquired resources are released.
 It is an error to invoke any methods on a closed persistence manager,
 and implementations are free to enforce this constraint by throwing
 IllegalStateExceptions in such cases.
 <p>
 An appropriate exception is thrown if the persistence manager
 could not be closed properly. In this case the state of the
 persistence manager is undefined and the instance should be
 discarded.

  Closes the persistence manager, release acquired resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the persistence manager failed to close properly</dd></dl>
</li>
</ul>
<a name="load(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</a>&nbsp;load(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)
               throws <a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a>,
                      <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Load the persistent members of a node state.

 Loads the state via the appropriate NodePropBundle.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#load(org.apache.jackrabbit.core.id.NodeId)">load</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - node id</dd>
<dt><span class="strong">Returns:</span></dt><dd>loaded node state</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a></code> - if the node state does not exist</dd>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if another error occurs</dd></dl>
</li>
</ul>
<a name="load(org.apache.jackrabbit.core.id.PropertyId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</a>&nbsp;load(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)
                   throws <a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a>,
                          <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Load the persistent members of a property state.

 Loads the state via the appropriate NodePropBundle.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#load(org.apache.jackrabbit.core.id.PropertyId)">load</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - property id</dd>
<dt><span class="strong">Returns:</span></dt><dd>loaded property state</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/NoSuchItemStateException.html" title="class in org.apache.jackrabbit.core.state">NoSuchItemStateException</a></code> - if the property state does not exist</dd>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if another error occurs</dd></dl>
</li>
</ul>
<a name="exists(org.apache.jackrabbit.core.id.PropertyId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre>public&nbsp;boolean&nbsp;exists(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)
               throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Checks whether the identified property exists.

 Loads the state via the appropriate NodePropBundle.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#exists(org.apache.jackrabbit.core.id.PropertyId)">exists</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - property id</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the property exists,
         <code>false</code> otherwise</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - on persistence manager errors</dd></dl>
</li>
</ul>
<a name="exists(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre>public&nbsp;boolean&nbsp;exists(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)
               throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Checks whether the identified node exists.

 Checks the existence via the appropriate NodePropBundle.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#exists(org.apache.jackrabbit.core.id.NodeId)">exists</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - node id</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the node exists,
         <code>false</code> otherwise</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - on persistence manager errors</dd></dl>
</li>
</ul>
<a name="createNew(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNew</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/state/NodeState.html" title="class in org.apache.jackrabbit.core.state">NodeState</a>&nbsp;createNew(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Creates a new node state instance with the given id.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#createNew(org.apache.jackrabbit.core.id.NodeId)">createNew</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - node id</dd>
<dt><span class="strong">Returns:</span></dt><dd>node state instance</dd></dl>
</li>
</ul>
<a name="createNew(org.apache.jackrabbit.core.id.PropertyId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNew</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/state/PropertyState.html" title="class in org.apache.jackrabbit.core.state">PropertyState</a>&nbsp;createNew(<a href="../../../../../../org/apache/jackrabbit/core/id/PropertyId.html" title="class in org.apache.jackrabbit.core.id">PropertyId</a>&nbsp;id)</pre>
<div class="block">Creates a new property state instance with the given id.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#createNew(org.apache.jackrabbit.core.id.PropertyId)">createNew</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - property id</dd>
<dt><span class="strong">Returns:</span></dt><dd>property state instance</dd></dl>
</li>
</ul>
<a name="store(org.apache.jackrabbit.core.state.ChangeLog)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>public&nbsp;void&nbsp;store(<a href="../../../../../../org/apache/jackrabbit/core/state/ChangeLog.html" title="class in org.apache.jackrabbit.core.state">ChangeLog</a>&nbsp;changeLog)
           throws <a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></pre>
<div class="block">Right now, this iterates over all items in the changelog and
 calls the individual methods that handle single item states
 or node references objects. Properly implemented, this method
 should ensure that changes are either written completely to
 the underlying persistence layer, or not at all.

 Atomically saves the given set of changes.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#store(org.apache.jackrabbit.core.state.ChangeLog)">store</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>changeLog</code> - change log containing states that were changed</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/state/ItemStateException.html" title="class in org.apache.jackrabbit.core.state">ItemStateException</a></code> - if the changes could not be saved</dd></dl>
</li>
</ul>
<a name="checkConsistency(java.lang.String[], boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkConsistency</h4>
<pre>public&nbsp;void&nbsp;checkConsistency(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;uuids,
                    boolean&nbsp;recursive,
                    boolean&nbsp;fix)</pre>
<div class="block">Perform a consistency check of the data. An example are non-existent
 nodes referenced in a child node entry. The existence of this feature and
 the scope of the implementation can vary in different PersistenceManager
 implementations.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html#checkConsistency(java.lang.String[], boolean, boolean)">checkConsistency</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/PersistenceManager.html" title="interface in org.apache.jackrabbit.core.persistence">PersistenceManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>uuids</code> - list of UUIDs of nodes to be checked. if null, all nodes will
            be checked</dd><dd><code>recursive</code> - if true, the tree(s) below the given node(s) will be traversed
            and checked as well</dd><dd><code>fix</code> - if true, any problems found that can be repaired will be
            repaired. if false, no data will be modified, instead all
            inconsistencies will only get logged</dd></dl>
</li>
</ul>
<a name="check(java.lang.String[], boolean, boolean, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyReport.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyReport</a>&nbsp;check(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;uuids,
                      boolean&nbsp;recursive,
                      boolean&nbsp;fix,
                      <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lostNFoundId)
                        throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Perform a consistency check of the data. An example are non-existent
 nodes referenced in a child node entry. The existence of this feature and
 the scope of the implementation can vary in different PersistenceManager
 implementations.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyChecker.html#check(java.lang.String[], boolean, boolean, java.lang.String)">check</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/persistence/check/ConsistencyChecker.html" title="interface in org.apache.jackrabbit.core.persistence.check">ConsistencyChecker</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>uuids</code> - list of UUIDs of nodes to be checked. if null, all nodes will
            be checked</dd><dd><code>recursive</code> - if true, the tree(s) below the given node(s) will be traversed
            and checked as well</dd><dd><code>fix</code> - if true, any problems found that can be repaired will be
            repaired. if false, no data will be modified, instead all
            inconsistencies will only get logged</dd><dd><code>lostNFoundId</code> - node to which to attach orphaned nodes (or <code>null</code>,
            in which case orphaned nodes will not get moved); this node
            should be of a node type that allows adding arbitrary child
            nodes</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd></dl>
</li>
</ul>
<a name="evictBundle(org.apache.jackrabbit.core.id.NodeId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evictBundle</h4>
<pre>protected&nbsp;void&nbsp;evictBundle(<a href="../../../../../../org/apache/jackrabbit/core/id/NodeId.html" title="class in org.apache.jackrabbit.core.id">NodeId</a>&nbsp;id)</pre>
<div class="block">Evicts the bundle with <code>id</code> from the bundle cache.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - the id of the bundle.</dd></dl>
</li>
</ul>
<a name="cacheAccessed(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheAccessed</h4>
<pre>public&nbsp;void&nbsp;cacheAccessed(long&nbsp;accessCount)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#cacheAccessed(long)">CacheAccessListener</a></code></strong></div>
<div class="block">The cache calls this method after a number of cache accesses.<br>
 
 For statistical purposes, the cache access count since the last call is
 included. In normal circumstances this is equal to
 <a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#ACCESS_INTERVAL"><code>CacheAccessListener.ACCESS_INTERVAL</code></a></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#cacheAccessed(long)">cacheAccessed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>accessCount</code> - number of cache accesses since the last call</dd></dl>
</li>
</ul>
<a name="disposeCache(org.apache.jackrabbit.core.cache.Cache)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>disposeCache</h4>
<pre>public&nbsp;void&nbsp;disposeCache(<a href="../../../../../../org/apache/jackrabbit/core/cache/Cache.html" title="interface in org.apache.jackrabbit.core.cache">Cache</a>&nbsp;cache)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#disposeCache(org.apache.jackrabbit.core.cache.Cache)">CacheAccessListener</a></code></strong></div>
<div class="block">Called after the cache is no longer used.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html#disposeCache(org.apache.jackrabbit.core.cache.Cache)">disposeCache</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/jackrabbit/core/cache/CacheAccessListener.html" title="interface in org.apache.jackrabbit.core.cache">CacheAccessListener</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractBundlePersistenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../org/apache/jackrabbit/core/persistence/bundle/BundleFsPersistenceManager.html" title="class in org.apache.jackrabbit.core.persistence.bundle"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/jackrabbit/core/persistence/bundle/AbstractBundlePersistenceManager.html" target="_top">Frames</a></li>
<li><a href="AbstractBundlePersistenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
