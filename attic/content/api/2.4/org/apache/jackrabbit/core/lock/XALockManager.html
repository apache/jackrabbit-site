<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Tue Feb 21 16:02:04 CET 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>XALockManager (Apache Jackrabbit 2.4.0 API)</title>
<meta name="date" content="2012-02-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XALockManager (Apache Jackrabbit 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XALockManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/jackrabbit/core/lock/SessionLockManager.html" title="class in org.apache.jackrabbit.core.lock"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/jackrabbit/core/lock/XALockManager.html" target="_top">Frames</a></li>
<li><a href="XALockManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.core.lock</div>
<h2 title="Class XALockManager" class="title">Class XALockManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.core.lock.XALockManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a>, <a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">XALockManager</span>
extends <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></pre>
<div class="block">Session-local lock manager that implements the semantical changes inside
 transactions. This manager validates lock/unlock operations inside its
 view of the locking space.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#XALockManager(org.apache.jackrabbit.core.lock.LockManagerImpl)">XALockManager</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/lock/LockManagerImpl.html" title="class in org.apache.jackrabbit.core.lock">LockManagerImpl</a>&nbsp;lockMgr)</code>
<div class="block">Create a new instance of this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#addLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">addLockToken</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session,
            <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lt)</code>
<div class="block">Invoked by a session to inform that a lock token has been added.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Invoked after one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method has been called.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Associate this resource with a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Invoked before one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method is called.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#checkLock(org.apache.jackrabbit.core.NodeImpl)">checkLock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Check whether the node given is locked by somebody else than the
 current session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)">checkLock</a></strong>(<a href="../../../../../org/apache/jackrabbit/spi/Path.html" title="interface in org.apache.jackrabbit.spi">Path</a>&nbsp;path,
         <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session)</code>
<div class="block">Check whether the path given is locked by somebody else than the
 session described.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#checkUnlock(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)">checkUnlock</a></strong>(<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session,
           <a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Returns <code>true</code> if the specified session is allowed to unlock
 the node; otherwise returns <code>false</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Commit transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#differentXAEnv(org.apache.jackrabbit.core.lock.LockInfo)">differentXAEnv</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/lock/LockInfo.html" title="class in org.apache.jackrabbit.core.lock">LockInfo</a>&nbsp;info)</code>
<div class="block">Return a flag indicating whether a lock info belongs to a different
 XA environment.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#getLock(org.apache.jackrabbit.core.NodeImpl)">getLock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Returns the Lock object that applies to a node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#getLocks(org.apache.jackrabbit.core.SessionImpl)">getLocks</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session)</code>
<div class="block">Returns all locks owned by the specified session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#holdsLock(org.apache.jackrabbit.core.NodeImpl)">holdsLock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Returns <code>true</code> if the node given holds a lock;
 otherwise returns <code>false</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#isLocked(org.apache.jackrabbit.core.NodeImpl)">isLocked</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Returns <code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)">lock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node,
    boolean&nbsp;isDeep,
    boolean&nbsp;isSessionScoped)</code>
<div class="block">Lock a node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">lock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node,
    boolean&nbsp;isDeep,
    boolean&nbsp;isSessionScoped,
    long&nbsp;timoutHint,
    <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ownerInfo)</code>
<div class="block">Lock a node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Prepare transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#removeLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">removeLockToken</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session,
               <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lt)</code>
<div class="block">Invoked by a session to inform that a lock token has been removed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</code>
<div class="block">Rollback transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/jackrabbit/core/lock/XALockManager.html#unlock(org.apache.jackrabbit.core.NodeImpl)">unlock</a></strong>(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)</code>
<div class="block">Removes the lock on a node given by its path.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XALockManager(org.apache.jackrabbit.core.lock.LockManagerImpl)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XALockManager</h4>
<pre>public&nbsp;XALockManager(<a href="../../../../../org/apache/jackrabbit/core/lock/LockManagerImpl.html" title="class in org.apache.jackrabbit.core.lock">LockManagerImpl</a>&nbsp;lockMgr)</pre>
<div class="block">Create a new instance of this class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lockMgr</code> - lockMgr global lock manager</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a>&nbsp;lock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node,
        boolean&nbsp;isDeep,
        boolean&nbsp;isSessionScoped)
          throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                 <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Lock a node. Checks whether the node is not locked and then
 returns a lock object for this node.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean)">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node</dd><dd><code>isDeep</code> - whether the lock applies to this node only</dd><dd><code>isSessionScoped</code> - whether the lock is session scoped</dd>
<dt><span class="strong">Returns:</span></dt><dd>lock object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if this node already is locked, or some descendant
         node is locked and <code>isDeep</code> is <code>true</code></dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#lock(boolean, boolean)" title="class or interface in javax.jcr"><code>Node.lock(boolean, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a>&nbsp;lock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node,
        boolean&nbsp;isDeep,
        boolean&nbsp;isSessionScoped,
        long&nbsp;timoutHint,
        <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ownerInfo)
          throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                 <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">LockManager</a></code></strong></div>
<div class="block">Lock a node. Checks whether the node is not locked and then
 returns a lock object for this node.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - Node to create the lock for.</dd><dd><code>isDeep</code> - whether the lock applies to this node only</dd><dd><code>isSessionScoped</code> - whether the lock is session scoped</dd><dd><code>timoutHint</code> - Desired lock timeout in seconds.</dd><dd><code>ownerInfo</code> - Optional string acting as information about the owner.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the lock.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if this node already is locked, or some descendant
         node is locked and <code>isDeep</code> is <code>true</code></dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#lock(org.apache.jackrabbit.core.NodeImpl, boolean, boolean, long, java.lang.String)"><code>LockManager.lock(NodeImpl, boolean, boolean, long, String)</code></a></dd></dl>
</li>
</ul>
<a name="getLock(org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLock</h4>
<pre>public&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a>&nbsp;getLock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
             throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                    <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns the Lock object that applies to a node. This may be either a lock
 on this node itself or a deep lock on a node above this node.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#getLock(org.apache.jackrabbit.core.NodeImpl)">getLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node</dd>
<dt><span class="strong">Returns:</span></dt><dd>lock object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if this node is not locked</dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#getLock()" title="class or interface in javax.jcr"><code>Node.getLock()</code></a></dd></dl>
</li>
</ul>
<a name="getLocks(org.apache.jackrabbit.core.SessionImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocks</h4>
<pre>public&nbsp;<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/Lock.html?is-external=true" title="class or interface in javax.jcr.lock">Lock</a>[]&nbsp;getLocks(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session)
                throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns all locks owned by the specified session.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#getLocks(org.apache.jackrabbit.core.SessionImpl)">getLocks</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - session</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of lock objects</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - if an error occurs</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html#getLocks()"><code>SessionImpl.getLocks()</code></a></dd></dl>
</li>
</ul>
<a name="unlock(org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;unlock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
            throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                   <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Removes the lock on a node given by its path.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#unlock(org.apache.jackrabbit.core.NodeImpl)">unlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if this node is not locked or the session
         does not have the correct lock token</dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#unlock()" title="class or interface in javax.jcr"><code>Node.unlock()</code></a></dd></dl>
</li>
</ul>
<a name="holdsLock(org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>holdsLock</h4>
<pre>public&nbsp;boolean&nbsp;holdsLock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
                  throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns <code>true</code> if the node given holds a lock;
 otherwise returns <code>false</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#holdsLock(org.apache.jackrabbit.core.NodeImpl)">holdsLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the node given holds a lock;
         otherwise returns <code>false</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - If an exception occurs.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#holdsLock()" title="class or interface in javax.jcr"><code>Node.holdsLock()</code></a></dd></dl>
</li>
</ul>
<a name="isLocked(org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>public&nbsp;boolean&nbsp;isLocked(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
                 throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns <code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#isLocked(org.apache.jackrabbit.core.NodeImpl)">isLocked</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if this node is locked either as a result
 of a lock held by this node or by a deep lock on a node above this
 node; otherwise returns <code>false</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - If an exception occurs.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true#isLocked()" title="class or interface in javax.jcr"><code>Node.isLocked()</code></a></dd></dl>
</li>
</ul>
<a name="checkLock(org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkLock</h4>
<pre>public&nbsp;void&nbsp;checkLock(<a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
               throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                      <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Check whether the node given is locked by somebody else than the
 current session. Access is allowed if the node is not locked or
 if the session itself holds the lock to this node, i.e. the session
 contains the lock token for the lock.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#checkLock(org.apache.jackrabbit.core.NodeImpl)">checkLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - node to check</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if write access to the specified node is not allowed</dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - if some other error occurs</dd></dl>
</li>
</ul>
<a name="checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkLock</h4>
<pre>public&nbsp;void&nbsp;checkLock(<a href="../../../../../org/apache/jackrabbit/spi/Path.html" title="interface in org.apache.jackrabbit.spi">Path</a>&nbsp;path,
             <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session)
               throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                      <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Check whether the path given is locked by somebody else than the
 session described. Access is allowed if the node is not locked or
 if the session itself holds the lock to this node, i.e. the session
 contains the lock token for the lock.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#checkLock(org.apache.jackrabbit.spi.Path, javax.jcr.Session)">checkLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - path to check</dd><dd><code>session</code> - session</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if write access to the specified path is not allowed</dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - if some other error occurs</dd></dl>
</li>
</ul>
<a name="checkUnlock(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkUnlock</h4>
<pre>public&nbsp;void&nbsp;checkUnlock(<a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session,
               <a href="../../../../../org/apache/jackrabbit/core/NodeImpl.html" title="class in org.apache.jackrabbit.core">NodeImpl</a>&nbsp;node)
                 throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a>,
                        <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns <code>true</code> if the specified session is allowed to unlock
 the node; otherwise returns <code>false</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#checkUnlock(javax.jcr.Session, org.apache.jackrabbit.core.NodeImpl)">checkUnlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - session</dd><dd><code>node</code> - node</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code> - if write access to the specified path is not allowed</dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code> - if some other error occurs</dd></dl>
</li>
</ul>
<a name="addLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLockToken</h4>
<pre>public&nbsp;void&nbsp;addLockToken(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session,
                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lt)
                  throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Invoked by a session to inform that a lock token has been added.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#addLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">addLockToken</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - session that has a added lock token</dd><dd><code>lt</code> - added lock token</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code></dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd></dl>
</li>
</ul>
<a name="removeLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLockToken</h4>
<pre>public&nbsp;void&nbsp;removeLockToken(<a href="../../../../../org/apache/jackrabbit/core/SessionImpl.html" title="class in org.apache.jackrabbit.core">SessionImpl</a>&nbsp;session,
                   <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lt)
                     throws <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></pre>
<div class="block">Invoked by a session to inform that a lock token has been removed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html#removeLockToken(org.apache.jackrabbit.core.SessionImpl, java.lang.String)">removeLockToken</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/lock/LockManager.html" title="interface in org.apache.jackrabbit.core.lock">LockManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - session that has a removed lock token</dd><dd><code>lt</code> - removed lock token</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/lock/LockException.html?is-external=true" title="class or interface in javax.jcr.lock">LockException</a></code></dd>
<dd><code><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/RepositoryException.html?is-external=true" title="class or interface in javax.jcr">RepositoryException</a></code></dd></dl>
</li>
</ul>
<a name="associate(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>associate</h4>
<pre>public&nbsp;void&nbsp;associate(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Associate this resource with a transaction. All further operations on
 the object should be interpreted as part of this transaction and changes
 recorded in some attribute of the transaction context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#associate(org.apache.jackrabbit.core.TransactionContext)">associate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context, if <code>null</code> disassociate</dd></dl>
</li>
</ul>
<a name="beforeOperation(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeOperation</h4>
<pre>public&nbsp;void&nbsp;beforeOperation(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Invoked before one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method is called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#beforeOperation(org.apache.jackrabbit.core.TransactionContext)">beforeOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd></dl>
</li>
</ul>
<a name="prepare(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre>public&nbsp;void&nbsp;prepare(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)
             throws <a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></pre>
<div class="block">Prepare transaction. The transaction is identified by a transaction
 context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)">prepare</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/TransactionException.html" title="class in org.apache.jackrabbit.core">TransactionException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="commit(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Commit transaction. The transaction is identified by a transaction
 context. If the method throws, other resources get their changes
 rolled back.
 <p/>
 This will finish the update and unlock the shared lock manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd></dl>
</li>
</ul>
<a name="rollback(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Rollback transaction. The transaction is identified by a transaction
 context.
 <p/>
 This will undo all updates and unlock the shared lock manager.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context.</dd></dl>
</li>
</ul>
<a name="afterOperation(org.apache.jackrabbit.core.TransactionContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterOperation</h4>
<pre>public&nbsp;void&nbsp;afterOperation(<a href="../../../../../org/apache/jackrabbit/core/TransactionContext.html" title="class in org.apache.jackrabbit.core">TransactionContext</a>&nbsp;tx)</pre>
<div class="block">Invoked after one of the <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#prepare(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.prepare(org.apache.jackrabbit.core.TransactionContext)</code></a>, <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#commit(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.commit(org.apache.jackrabbit.core.TransactionContext)</code></a> or
 <a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#rollback(org.apache.jackrabbit.core.TransactionContext)"><code>InternalXAResource.rollback(org.apache.jackrabbit.core.TransactionContext)</code></a> method has been called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html#afterOperation(org.apache.jackrabbit.core.TransactionContext)">afterOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/jackrabbit/core/InternalXAResource.html" title="interface in org.apache.jackrabbit.core">InternalXAResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>tx</code> - transaction context</dd></dl>
</li>
</ul>
<a name="differentXAEnv(org.apache.jackrabbit.core.lock.LockInfo)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>differentXAEnv</h4>
<pre>public&nbsp;boolean&nbsp;differentXAEnv(<a href="../../../../../org/apache/jackrabbit/core/lock/LockInfo.html" title="class in org.apache.jackrabbit.core.lock">LockInfo</a>&nbsp;info)</pre>
<div class="block">Return a flag indicating whether a lock info belongs to a different
 XA environment.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XALockManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/jackrabbit/core/lock/SessionLockManager.html" title="class in org.apache.jackrabbit.core.lock"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/jackrabbit/core/lock/XALockManager.html" target="_top">Frames</a></li>
<li><a href="XALockManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2004-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
